var Ce=Object.defineProperty;var se=Object.getOwnPropertySymbols;var De=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable;var oe=(t,e,r)=>e in t?Ce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Q=(t,e)=>{for(var r in e||(e={}))De.call(e,r)&&oe(t,r,e[r]);if(se)for(var r of se(e))we.call(e,r)&&oe(t,r,e[r]);return t};import{a as V,o as d,c as l,b as o,n as h,F as D,r as w,d as m,w as y,v as x,e as I,t as _,f as P,g,h as C,i as O,l as Te,j as $,k as E,m as re,p as ne,q as k,s as W,U as Be,C as ae,D as ie,u as de,x as le,y as Ae,z as Ie,A as xe,B as Ee,E as Ne,G as Me,H as ze}from"./vendor.63c11ed8.js";const Oe=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}};Oe();const H={loadDefaultPhotos:$e,getPhotosByKeyword:Pe,savePhotosToStorage:Fe,uploadPhoto:Qe},Z="photos";async function $e(){const t=localStorage.getItem(Z);let e=t?JSON.parse(t):[];return(!e||!e.length)&&((await V.get("https://api.unsplash.com/photos/random/?count=40&&query=view&&client_id=uFlXoOBB-1QIZ9Qf2FIQEBZjmO6n3HlN6XtOulT3ciA")).data.forEach(a=>e.push(a.urls.regular)),localStorage.setItem(Z,JSON.stringify(e))),e}async function Pe(t=null){let e=[];return t||(t=nature),(await V.get(`https://api.unsplash.com/photos/random/?count=60&&query=${t}&&client_id=uFlXoOBB-1QIZ9Qf2FIQEBZjmO6n3HlN6XtOulT3ciA`)).data.forEach(a=>e.push(a.urls.regular)),e}function Fe(t){localStorage.setItem(Z,JSON.stringify(t))}async function Qe(t){const e="Tablero",a="https://api.cloudinary.com/v1_1/dwu2p9wyb/image/upload",n=new FormData;n.append("file",t),n.append("upload_preset",e);try{return(await V.post(a,n)).data}catch(s){console.error("ERROR!",s)}}var Se="/assets/create-board-display.ea732269.svg",f=(t,e)=>{const r=t.__vccOpts||t;for(const[a,n]of e)r[a]=n;return r};const Ue={emits:["open-drop","close-drop"],components:{},async created(){let t=await H.loadDefaultPhotos();this.imgs=t.slice(0,4)},data(){return{boardToAdd:{title:"",style:{backgroundColor:"#0079bf"}},imgs:[]}},methods:{async addBoard(){!this.boardToAdd.title||(this.$emit("close-drop"),await this.$store.dispatch({type:"addBoard",boardToAdd:this.boardToAdd}))},closeDropdown(){this.$emit("close-drop")},changeBGC(t){delete this.boardToAdd.style.photo,this.boardToAdd.style.backgroundColor=t},changeBGP(t){delete this.boardToAdd.style.backgroundColor,this.boardToAdd.style.photo=t}},computed:{boards(){return this.$store.getters.boards},submitStatus(){return this.boardToAdd.title?"submit-possible":"submit-unpossible"},coverBG(){return this.boardToAdd.style.photo?`background-image: url(${this.boardToAdd.style.photo})`:`background-color : ${this.boardToAdd.style.backgroundColor}`},cardBGC(){return t=>this.boardToAdd.style.backgroundColor===t},cardBGP(){return t=>this.boardToAdd.style.photo===t}}},qe={class:"create-board"},Le={class:"modal-header"},Ge=o("div",{class:"modal-title"},"Create board",-1),He={class:"modal-content"},Re={class:"background-display"},je=o("img",{class:"cover-img",src:Se,alt:""},null,-1),Xe=[je],Ye={class:"background-picker-container"},Je=o("label",{class:"covers-title",for:"background-picker-title"},"Background",-1),Ve={class:"background-options"},Ze={class:"background-imgs-options"},We=["onClick"],Ke={key:0,class:"check-photo-container"},et=o("span",{class:"checked-photo"},[o("span",{class:"check-icon"})],-1),tt=[et],st={class:"background-colors-options"},ot={class:"color-card"},rt={key:0,class:"check-container"},nt=o("span",{class:"checked-color"},[o("span",{class:"check-icon"})],-1),at=[nt],it={class:"color-card"},dt={key:0,class:"check-container"},lt=o("span",{class:"checked-color"},[o("span",{class:"check-icon"})],-1),ct=[lt],ut={class:"color-card"},ht={key:0,class:"check-container"},mt=o("span",{class:"checked-color"},[o("span",{class:"check-icon"})],-1),bt=[mt],pt={class:"color-card"},gt={key:0,class:"check-container"},_t=o("span",{class:"checked-color"},[o("span",{class:"check-icon"})],-1),kt=[_t],vt={class:"color-card"},yt={key:0,class:"check-container"},ft=o("span",{class:"checked-color"},[o("span",{class:"check-icon"})],-1),Ct=[ft],Dt={class:"create-board-input-container"},wt=o("div",{class:"input-title"},"Board title",-1);function Tt(t,e,r,a,n,s){return d(),l("div",qe,[o("div",{class:I(["create-board-modal",t.toggleCreateBoardModal])},[o("header",Le,[Ge,o("span",{class:"close-create-modal-btn",onClick:e[0]||(e[0]=(...i)=>s.closeDropdown&&s.closeDropdown(...i))})]),o("div",He,[o("div",Re,[o("div",{class:"img-container",style:h(s.coverBG)},Xe,4)]),o("div",Ye,[Je,o("div",Ve,[o("ul",Ze,[(d(!0),l(D,null,w(n.imgs,i=>(d(),l("li",{class:"background-img",key:i,onClick:c=>s.changeBGP(i)},[o("button",{class:"img",style:h("background-image: url("+i+")")},[s.cardBGP(i)?(d(),l("span",Ke,tt)):m("",!0)],4)],8,We))),128))]),o("ul",st,[o("li",ot,[o("button",{onClick:e[1]||(e[1]=i=>s.changeBGC("#0079bf")),class:"color1"},[s.cardBGC("#0079bf")?(d(),l("span",rt,at)):m("",!0)])]),o("li",it,[o("button",{onClick:e[2]||(e[2]=i=>s.changeBGC("#d29034")),class:"color2"},[s.cardBGC("#d29034")?(d(),l("span",dt,ct)):m("",!0)])]),o("li",ut,[o("button",{onClick:e[3]||(e[3]=i=>s.changeBGC("#519839")),class:"color3"},[s.cardBGC("#519839")?(d(),l("span",ht,bt)):m("",!0)])]),o("li",pt,[o("button",{onClick:e[4]||(e[4]=i=>s.changeBGC("#b04632")),class:"color4"},[s.cardBGC("#b04632")?(d(),l("span",gt,kt)):m("",!0)])]),o("li",vt,[o("button",{onClick:e[5]||(e[5]=i=>s.changeBGC("#89609e")),class:"color5"},[s.cardBGC("#89609e")?(d(),l("span",yt,Ct)):m("",!0)])])])])]),o("div",Dt,[wt,y(o("input",{type:"text",class:"create-board-input","onUpdate:modelValue":e[6]||(e[6]=i=>n.boardToAdd.title=i)},null,512),[[x,n.boardToAdd.title]])]),o("button",{class:I(["submit-create-btn",s.submitStatus]),onClick:e[7]||(e[7]=(...i)=>s.addBoard&&s.addBoard(...i))},"Create",2)])],2)])}var ce=f(Ue,[["render",Tt]]);const Bt={name:"",components:{},created(){},data(){return{}},methods:{closeDropdown(t){this.$emit("close-drop",t)},async goToBoard(t){await this.$store.dispatch("loadBoards"),this.$store.commit({type:"setCurrBoardId",boardId:t}),this.$router.push("/board/"+t)}},computed:{boards(){return this.$store.getters.boards},cardBG(){return t=>t.photo?`background-image: url(${t.photo})`:`background-color: ${t.backgroundColor}`}}},At={class:"recent-drop-content dropdown"},It={class:"drop-header"},xt=o("div",{class:"header-text"},"Recent boards",-1),Et=["onClick"],Nt={class:"board-text"},Mt={class:"board-title"},zt={key:0,class:"no-boards"};function Ot(t,e,r,a,n,s){return d(),l("div",At,[o("header",It,[xt,o("span",{class:"close-header",onClick:e[0]||(e[0]=i=>s.closeDropdown())})]),(d(!0),l(D,null,w(s.boards,i=>(d(),l("div",{class:"boards-list",key:i._id},[o("a",{class:"board-details",onClick:c=>s.goToBoard(i._id)},[i?(d(),l("div",{key:0,class:"board-cover-container",style:h(s.cardBG(i.style))},null,4)):m("",!0),o("div",Nt,[o("div",Mt,_(i.title),1)])],8,Et)]))),128)),s.boards?m("",!0):(d(),l("p",zt,"You haven't boards yet. Go ahead and make your first board!"))])}var ue=f(Bt,[["render",Ot]]);const $t={name:"",components:{},created(){},data(){return{}},methods:{closeDropdown(t){this.$emit("close-drop",t)},async goToBoard(t){await this.$store.dispatch("loadBoards"),this.$store.commit({type:"setCurrBoardId",boardId:t}),this.$router.push("/board/"+t)}},computed:{starredBoards(){return this.$store.getters.starredBoards||[]},cardBG(){return t=>t.photo?`background-image: url(${t.photo})`:`background-color: ${t.backgroundColor}`}}},Pt={class:"starred-drop-content dropdown"},Ft={class:"drop-header"},Qt=o("div",{class:"header-text"},"Starred boards",-1),St=["onClick"],Ut={class:"board-text"},qt={class:"board-title"},Lt={key:0,class:"no-starred-boards"};function Gt(t,e,r,a,n,s){return d(),l("div",Pt,[o("header",Ft,[Qt,o("span",{class:"close-header",onClick:e[0]||(e[0]=i=>s.closeDropdown())})]),(d(!0),l(D,null,w(s.starredBoards,i=>(d(),l("div",{class:"boards-list",key:i._id},[o("a",{class:"board-details",onClick:c=>s.goToBoard(i._id)},[o("div",{class:"board-cover-container",style:h(s.cardBG(i.style))},null,4),o("div",Ut,[o("div",qt,_(i.title),1)])],8,St)]))),128)),s.starredBoards.length?m("",!0):(d(),l("p",Lt,"Star important boards to access them quickly and easily."))])}var he=f($t,[["render",Gt]]);const Ht={name:"",emits:["openDrop","open-drop"],components:{},created(){},data(){return{}},methods:{closeDropdown(){this.$emit("close-drop")},openDropdown(t){this.$emit("open-drop",t)}},computed:{boards(){return this.$store.getters.boards}}},Rt={class:"more-drop-content dropdown"},jt={class:"drop-header"},Xt=o("div",{class:"header-text"},"More",-1),Yt={class:"more-options"},Jt=P(" Recent boards "),Vt=o("svg",{class:"arrow",width:"16",height:"16",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M11.2929 16.7071L4.22185 9.63606C3.83132 9.24554 3.83132 8.61237 4.22185 8.22185C4.61237 7.83133 5.24554 7.83133 5.63606 8.22185L12 14.5858L18.364 8.22185C18.7545 7.83132 19.3877 7.83132 19.7782 8.22185C20.1687 8.61237 20.1687 9.24554 19.7782 9.63606L12.7071 16.7071C12.3166 17.0977 11.6834 17.0977 11.2929 16.7071Z",fill:"currentColor"})],-1),Zt=[Jt,Vt],Wt=P(" Starred boards "),Kt=o("svg",{class:"arrow",width:"16",height:"16",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M11.2929 16.7071L4.22185 9.63606C3.83132 9.24554 3.83132 8.61237 4.22185 8.22185C4.61237 7.83133 5.24554 7.83133 5.63606 8.22185L12 14.5858L18.364 8.22185C18.7545 7.83132 19.3877 7.83132 19.7782 8.22185C20.1687 8.61237 20.1687 9.24554 19.7782 9.63606L12.7071 16.7071C12.3166 17.0977 11.6834 17.0977 11.2929 16.7071Z",fill:"currentColor"})],-1),es=[Wt,Kt];function ts(t,e,r,a,n,s){return d(),l("div",Rt,[o("header",jt,[Xt,o("span",{class:"close-header",onClick:e[0]||(e[0]=i=>s.closeDropdown())})]),o("div",Yt,[o("div",{class:"option-preview",onClick:e[1]||(e[1]=i=>s.openDropdown("recentBoardsDrop"))},Zt),o("div",{class:"option-preview",onClick:e[2]||(e[2]=i=>s.openDropdown("starredBoardsDrop"))},es)])])}var me=f(Ht,[["render",ts]]);const ss={props:{imgURL:String,username:String},data(){return{}},created(){},methods:{},computed:{usernameInitials(){if(!this.username)return;const t=this.username.split(" "),e=t[0][0].toUpperCase(),r=typeof t[t.length-1][0]=="string"?t[t.length-1][0].toUpperCase():t[t.length-1][0];return t.length>1?e+r:e}}},os={class:"avatar"},rs={class:"avatar-pic"},ns=["src"],as={key:1,class:"avatar-name"};function is(t,e,r,a,n,s){return d(),l("section",os,[o("div",rs,[r.imgURL?(d(),l("img",{key:0,class:"avatar-img",src:r.imgURL},null,8,ns)):(d(),l("div",as,_(s.usernameInitials),1))])])}var R=f(ss,[["render",is]]);const F={makeId:ds,lightenDarkenColor:ls};function ds(t=5){var e="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let a=0;a<t;a++)e+=r.charAt(Math.floor(Math.random()*r.length));return e}function ls(t,e){var r=!1;t[0]=="#"&&(t=t.slice(1),r=!0);var a=parseInt(t,16),n=(a>>16)+e;n>255?n=255:n<0&&(n=0);var s=(a>>8&255)+e;s>255?s=255:s<0&&(s=0);var i=(a&255)+e;return i>255?i=255:i<0&&(i=0),(r?"#":"")+(i|s<<8|n<<16).toString(16)}const cs={emits:["openDrop","open-drop"],components:{createBoardDrop:ce,recentBoardsDrop:ue,starredBoardsDrop:he,moreDrop:me,avatarProfile:R},created(){},data(){return{isRecentDropOpen:!1,isStarredDropOpen:!1}},methods:{toggleRecentDrop(){this.isRecentDropOpen=!this.isRecentDropOpen},toggleStarredDrop(){this.isStarredDropOpen=!this.isStarredDropOpen},openDropdown(t){this.$emit("open-drop",t)}},computed:{boards(){return this.$store.getters.boards},toggleCreateBtnBGC(){},isCreateBoardOpen(){},bgc(){return this.$store.getters.boardBgc},boardBgStyle(){if(!!this.bgc)return this.bgc.isLight?"background-color:"+this.bgc.bgc+"; opacity: .9;":"background-color:"+this.bgc.bgc+"; opacity: .9;"},textColor(){if(!!this.bgc)return this.bgc.isLight?"color: #172b4d":"color: white"},iconColor(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAuQAAAHoCAMAAAA2UAqxAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAgVBMVEUAAAAXK00pmtoomtkpmdkymtUnlNIumNMvmNIymdMqk8wuk8sljsgqk80ijcgvls8jjcg2lco3l8wtlM0qkcouksk2mdAijMYrk8wkjccrkss5lso4lckxls4rkck3lcovksgskMcrkMcvk8ozl84zls4yls0skMg0l843mc/////8JFksAAAAAXRSTlMAQObYZgAAAAFiS0dEKlO+1J4AAAAHdElNRQfmBAEQIAG/UCTeAAAAAW9yTlQBz6J3mgAADdhJREFUeNrt0seSJMgRA1EutdZac6n//wd5IM24uruiZ9bhBbxzHhIIfOUrMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzT+GDAdBXL0Kfuht9/Qb0jWc7f8/o887/0EN4XvRl5yPoMTwn+qrzcfQenhB90vk0ehPPhr7nfBZ6FU+FPuZ8HnoZz4O+5Hw+ehvPgr7jfBF6Hc+BvuJ8MXofz4C+4byEXogffcF5Gb0RO/p+8xr0Stzo683r0Dsxo283r0UvRYw+3bwaPRUt+nDzevRWrOi7zSPotUjRZ5uH0HNRoo82j6H3YkTfbB5FL0aIPtk8il6MD32xeRy9GR36YPM4ejM69MHmcfRmbOh7zQW9Ghn6XHNBr0aGPtec0LNRoY81N/RuVOhjzQ29GxX6WHND78aEvtUc0cMxoW81V/RyROhTzRW9HBH6VHNFL0eEPtVc0csRoU81V/RyPOhLzR29HQ36UHNHb0eDPtTc0dvRoA81d/R2NOhDzR29HQ36UHNHb0eDPtTc0dvRoA81d/R2NOhDzR29HQ36UHNHb0eDPtTc0dvRoA81d/R2NOhDzR29HQ36UHNHb0eDPtTc0dvRoA81d/R2NOhDzR29HQ1Z6frVyL77HIR9awduLl3N2bZ54eLaraRduycuLl5JW7V84+LmfbxNyzdurt5GXLR84+ruXcw9yzfuLt9EXbN84/L2Pdwtyzdur9/CXbJ94/b+JeQlb+TzMnvH+pHY/29g73gjnxfZK9aPXH8BAX3FCzAv0Ve8APMSfcULMC/RN+zfiD5APH/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdB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"},userName(){var t;return(t=this.$store.getters.loggedinUser)==null?void 0:t.username},userImg(){var t;return(t=this.$store.getters.loggedinUser)==null?void 0:t.imgUrl}}},us=["src"],hs=o("span",{class:"logo-text"},"Tablero",-1),ms={class:"left-navbar"},bs={class:"main-header-dropdowns"},ps={class:"more-drop"},gs=o("span",null,"More",-1),_s=o("svg",{width:"16",height:"16",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M11.2929 16.7071L4.22185 9.63606C3.83132 9.24554 3.83132 8.61237 4.22185 8.22185C4.61237 7.83133 5.24554 7.83133 5.63606 8.22185L12 14.5858L18.364 8.22185C18.7545 7.83132 19.3877 7.83132 19.7782 8.22185C20.1687 8.61237 20.1687 9.24554 19.7782 9.63606L12.7071 16.7071C12.3166 17.0977 11.6834 17.0977 11.2929 16.7071Z",fill:"currentColor"})],-1),ks=[gs,_s],vs={class:"recent-drop"},ys=o("span",null,"Recent",-1),fs=o("svg",{width:"16",height:"16",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M11.2929 16.7071L4.22185 9.63606C3.83132 9.24554 3.83132 8.61237 4.22185 8.22185C4.61237 7.83133 5.24554 7.83133 5.63606 8.22185L12 14.5858L18.364 8.22185C18.7545 7.83132 19.3877 7.83132 19.7782 8.22185C20.1687 8.61237 20.1687 9.24554 19.7782 9.63606L12.7071 16.7071C12.3166 17.0977 11.6834 17.0977 11.2929 16.7071Z",fill:"currentColor"})],-1),Cs=[ys,fs],Ds={class:"starred-drop"},ws=o("span",null,"Starred",-1),Ts=o("svg",{width:"16",height:"16",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M11.2929 16.7071L4.22185 9.63606C3.83132 9.24554 3.83132 8.61237 4.22185 8.22185C4.61237 7.83133 5.24554 7.83133 5.63606 8.22185L12 14.5858L18.364 8.22185C18.7545 7.83132 19.3877 7.83132 19.7782 8.22185C20.1687 8.61237 20.1687 9.24554 19.7782 9.63606L12.7071 16.7071C12.3166 17.0977 11.6834 17.0977 11.2929 16.7071Z",fill:"currentColor"})],-1),Bs=[ws,Ts],As={class:"create-board"},Is={class:"create-board-btn-container"},xs=o("div",{class:"seperator"},null,-1),Es={class:"right-navbar"},Ns={class:"board-search"},Ms=o("span",{class:"magnifing-glass",role:"img","aria-label":"SearchIcon"},[o("svg",{width:"20",height:"20",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.5 18C6.35786 18 3 14.6421 3 10.5C3 6.35786 6.35786 3 10.5 3C14.6421 3 18 6.35786 18 10.5C18 12.2269 17.4164 13.8175 16.4356 15.0852L20.3769 19.0953C20.764 19.4892 20.7586 20.1223 20.3647 20.5095C19.9708 20.8966 19.3376 20.8911 18.9505 20.4972L15.0129 16.4909C13.7572 17.4383 12.1942 18 10.5 18ZM16 10.5C16 13.5376 13.5376 16 10.5 16C7.46243 16 5 13.5376 5 10.5C5 7.46243 7.46243 5 10.5 5C13.5376 5 16 7.46243 16 10.5Z",fill:"currentColor"})])],-1),zs=o("div",{class:"right-nav-btn"},[o("span",{class:"little-search",role:"img","aria-label":"SearchIcon"},[o("svg",{class:"magnifying-glass",width:"20",height:"20",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.5 18C6.35786 18 3 14.6421 3 10.5C3 6.35786 6.35786 3 10.5 3C14.6421 3 18 6.35786 18 10.5C18 12.2269 17.4164 13.8175 16.4356 15.0852L20.3769 19.0953C20.764 19.4892 20.7586 20.1223 20.3647 20.5095C19.9708 20.8966 19.3376 20.8911 18.9505 20.4972L15.0129 16.4909C13.7572 17.4383 12.1942 18 10.5 18ZM16 10.5C16 13.5376 13.5376 16 10.5 16C7.46243 16 5 13.5376 5 10.5C5 7.46243 7.46243 5 10.5 5C13.5376 5 16 7.46243 16 10.5Z",fill:"currentColor"})])])],-1);function Os(t,e,r,a,n,s){const i=g("router-link"),c=g("avatar-profile");return d(),l("section",{class:"main-header",style:h(s.boardBgStyle)},[C(i,{style:h(s.textColor),class:"main-logo",to:"/board/"},{default:O(()=>[o("img",{src:s.iconColor,class:"logo-icon"},null,8,us),hs]),_:1},8,["style"]),o("div",ms,[o("div",bs,[o("div",ps,[o("button",{style:h(s.textColor),class:"drop-btn more-btn",onClick:e[0]||(e[0]=u=>s.openDropdown("moreDrop"))},ks,4)]),o("div",vs,[o("button",{style:h(s.textColor),class:"drop-btn recent-btn",onClick:e[1]||(e[1]=u=>s.openDropdown("recentBoardsDrop"))},Cs,4)]),o("div",Ds,[o("button",{style:h(s.textColor),class:"drop-btn starred-btn",onClick:e[2]||(e[2]=u=>s.openDropdown("starredBoardsDrop"))},Bs,4)])]),o("div",As,[o("div",Is,[o("button",{class:I(["create-board-btn drop-btn",s.toggleCreateBtnBGC]),onClick:e[3]||(e[3]=u=>s.openDropdown("createBoardDrop")),style:h(s.textColor)},"Create",6)]),s.isCreateBoardOpen?(d(),l("div",{key:0,class:I(["create-board-modal",t.toggleCreateBoardModal])},null,2)):m("",!0)]),xs]),o("div",Es,[o("div",Ns,[Ms,o("input",{class:"main-input",style:h(s.textColor),type:"text",placeholder:"Search"},null,4)]),zs,o("div",{onClick:e[4]||(e[4]=u=>s.openDropdown("acountDrop")),class:"main-header-icon"},[C(c,{class:"member-pic",imgURL:s.userImg,username:s.userName},null,8,["imgURL","username"])])])],4)}var $s=f(cs,[["render",Os]]);const Ps={name:"",components:{avatarProfile:R},created(){},data(){return{}},methods:{closeDropdown(t){this.$emit("close-drop",t)},logout(){this.$store.dispatch({type:"logout"}),this.closeDropdown(),this.$router.push("/")}},computed:{boards(){return this.$store.getters.boards},loggedinUser(){return this.$store.getters.loggedinUser},userName(){var t;return(t=this.$store.getters.loggedinUser)==null?void 0:t.username},userImg(){var t;return(t=this.$store.getters.loggedinUser)==null?void 0:t.imgUrl}}},Fs={class:"acount-drop-content"},Qs={class:"drop-header"},Ss=o("div",{class:"header-text"},"Account",-1),Us={class:"options-list"},qs={class:"list-container"},Ls={class:"user-details-container"},Gs={class:"user-img"},Hs={class:"img-container"},Rs={class:"user-details"},js={class:"user-name"},Xs={class:"user-email"},Ys=o("hr",null,null,-1),Js=o("button",{class:"logout-btn"},[o("span",{class:"logout"},"Log out")],-1),Vs=[Js];function Zs(t,e,r,a,n,s){var c,u;const i=g("avatar-profile");return d(),l("div",Fs,[o("header",Qs,[Ss,o("span",{class:"close-header",onClick:e[0]||(e[0]=p=>s.closeDropdown())})]),o("div",Us,[o("ul",qs,[o("div",Ls,[o("div",Gs,[o("div",Hs,[C(i,{class:"member-pic",username:s.userName,imgURL:s.userImg},null,8,["username","imgURL"])])]),o("div",Rs,[o("div",js,_(((c=s.loggedinUser)==null?void 0:c.username)||"Guest"),1),o("span",Xs,_(((u=s.loggedinUser)==null?void 0:u.email)||"guest"),1)])]),Ys,o("li",{onClick:e[1]||(e[1]=(...p)=>s.logout&&s.logout(...p)),class:"logout-option"},Vs)])])])}var Ws=f(Ps,[["render",Zs]]);const Ks="",q=eo();window.socketService=q;q.setup();function eo(){var t=null;return{async setup(){t=Te(Ks)},on(r,a){t.on(r,a)},off(r,a=null){!t||(a?t.off(r,a):t.removeAllListeners(r))},emit(r,a){t.emit(r,a)},terminate(){t=null}}}const to={components:{createBoardDrop:ce,recentBoardsDrop:ue,starredBoardsDrop:he,mainHeader:$s,acountDrop:Ws,moreDrop:me},emits:["openDrop","open-drop"],created(){this.$store.dispatch({type:"getLoggedinUser"}),document.body.addEventListener("touchend",()=>{document.querySelector("body").classList.remove("smooth-dnd-disable-touch-action"),document.querySelector("body").classList.remove("smooth-dnd-no-user-select")})},data(){return{currDropDown:null,isHomePage:!1,overflow:"hidden"}},methods:{openDrop(t){this.currDropDown=t},closeDrop(){this.currDropDown=null}},computed:{bodyOverflow(){return`overflow: ${this.overflow}`},loggedinUser(){return this.$store.getters.loggedinUser}},unmounted(){},watch:{$route(t,e){this.$route.name==="home"||this.$route.name==="login"?this.isHomePage=!0:this.isHomePage=!1,(this.$route.name==="login"||this.$route.name==="home")&&this.loggedinUser&&this.$router.push("/board"),this.$route.name==="home"?this.$refs.appContainer.style=" background: linear-gradient(0deg, #fff, #eae6ff 100%);":this.$refs.appContainer.style=" background: white"},loggedinUser:{async handler(){this.loggedinUser?this.$router.push("/board"):this.$router.push("/")}}}};function so(t,e,r,a,n,s){const i=g("main-header"),c=g("router-view"),u=$("clickoutside");return d(),l("section",{style:h(s.bodyOverflow),class:"app-container",ref:"appContainer"},[n.isHomePage?m("",!0):(d(),E(i,{key:0,onOpenDrop:s.openDrop},null,8,["onOpenDrop"])),C(c,{onOpenDrop:s.openDrop},null,8,["onOpenDrop"]),n.currDropDown?y((d(),E(re(n.currDropDown),{key:1,onCloseDrop:s.closeDrop,onOpenDrop:s.openDrop},null,8,["onCloseDrop","onOpenDrop"])),[[u,s.closeDrop]]):m("",!0)],4)}var oo=f(to,[["render",so]]),be="/assets/logo.f5f1419b.png",ro="/assets/logowhite.584b2541.png",no="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAuQAAAHoCAMAAAA2UAqxAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAgVBMVEUAAAAXK00pmtoomtkpmdkymtUnlNIumNMvmNIymdMqk8wuk8sljsgqk80ijcgvls8jjcg2lco3l8wtlM0qkcouksk2mdAijMYrk8wkjccrkss5lso4lckxls4rkck3lcovksgskMcrkMcvk8ozl84zls4yls0skMg0l843mc/////8JFksAAAAAXRSTlMAQObYZgAAAAFiS0dEKlO+1J4AAAAHdElNRQfmBAEQIAG/UCTeAAAAAW9yTlQBz6J3mgAADdhJREFUeNrt0seSJMgRA1EutdZac6n//wd5IM24uruiZ9bhBbxzHhIIfOUrMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzT+GDAdBXL0Kfuht9/Qb0jWc7f8/o887/0EN4XvRl5yPoMTwn+qrzcfQenhB90vk0ehPPhr7nfBZ6FU+FPuZ8HnoZz4O+5Hw+ehvPgr7jfBF6Hc+BvuJ8MXofz4C+4byEXogffcF5Gb0RO/p+8xr0Stzo683r0Dsxo283r0UvRYw+3bwaPRUt+nDzevRWrOi7zSPotUjRZ5uH0HNRoo82j6H3YkTfbB5FL0aIPtk8il6MD32xeRy9GR36YPM4ejM69MHmcfRmbOh7zQW9Ghn6XHNBr0aGPtec0LNRoY81N/RuVOhjzQ29GxX6WHND78aEvtUc0cMxoW81V/RyROhTzRW9HBH6VHNFL0eEPtVc0csRoU81V/RyPOhLzR29HQ36UHNHb0eDPtTc0dvRoA81d/R2NOhDzR29HQ36UHNHb0eDPtTc0dvRoA81d/R2NOhDzR29HQ36UHNHb0eDPtTc0dvRoA81d/R2NOhDzR29HQ36UHNHb0eDPtTc0dvRoA81d/R2NOhDzR29HQ1Z6frVyL77HIR9awduLl3N2bZ54eLaraRduycuLl5JW7V84+LmfbxNyzdurt5GXLR84+ruXcw9yzfuLt9EXbN84/L2Pdwtyzdur9/CXbJ94/b+JeQlb+TzMnvH+pHY/29g73gjnxfZK9aPXH8BAX3FCzAv0Ve8APMSfcULMC/RN+zfiD5APH/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN1wbICdBOn/DtQFyEqTzN3wN8FX6428NkHOCdP6G7Qm+Zg+Qz9+wPcH5/ykB8vkbtifYyN87f8P2BBv5e+dvWD6S+/cz/m/gb1g+ko38/fM3LF+J/PsK/obdK3nD7xO+7+BvWD2Tt3ye/72Fv2H1TDbyL4O/YfNO3vR3+vMe/obFQ3nb13NOkM7fsHcpb/x5zgnS+RvWTuWtH885QTp/w9atvPnfOSdI52/47WMhsryDX+ecIJ2/4Xcxly87zTv5c84J0vkbfjeD+RIDfV33Yzt/w+9qMj508xr+humpcejmNfwN01Pj0M1r+Bump8ahm9fwN0xPjUM3r+FvmJ4ah25ew98wPTUO3byGv2F6ahy6eQ1/w/TUOHTzGv6G6alx6OY1/A3TU+PQzWv4G6anxqGb1/A3TE+NQzev4W+YnhqHbl7D3zA9NQ7dvIa/YXpqHLp5DX/D9NQ4dPMa/obpqXHo5jX8DdNT49DNa/gbpqfGoZvX8DdMT41DN6/hb5ieGoduXsPfMD01Dt28hr9hemocunkNf8P01Dh08xr+humpcejmNfwN01Pj0M1r+Bump8ahm9fwN0xPjUM3r+FvmJ4ah25ew98wPTUO3byGv2F6ahy6eQ1/w/TUOHTzGv6G6alx6OY1/A3TU+PQzWv4G6anxqGb1/A3TE+NQzev4W+YnhqHbl7D3zA9NQ7dvIa/YXpqHLp5DX/D9NQ4dPMa/obpqXHo5jX8DdNT49DNa/gbpqfGoZvX8DdMT41DN6/hb5ieGoduXsPfMD01Dt28hr9hemocunkNf8P01Dh08xr+humpcejmNfwN01Pj0M1r+Bump8ahm9fwN0xPjUM3r+FvmJ4ah25ew98wPTUO3byGv2F6ahy6eQ1/w/TUOHTzGv6G6alx6OY1/A3TU+PQzWv4G6anxqGb1/A3TE+NQzev4W+YnhqHbl7D3zA9NQ7dvIa/YXpqHLp5DX/D9NQ4dPMa/obpqXHo5jX8DdNT49DNa/gbpqfGoZvX8DdMT41DN6/hb5ieGoduXsPfMD01Dt28hr9hemocunkNf8P01Dh08xr+humpcejmNfwN01Pj0M1r+Bump8ahm9fwN0xPjUM3r+FvmJ4ah25ew98wPTUO3byGv2F6ahy6eQ1/w/TUOHTzGv6G6alx6OY1/A3TU+PQzWv4G6anxqGb1/A3TE+NQzev4W+YnhqHbl7D3zA9NQ7dvIa/YXpqHLp5DX/D9NQ4dPMa/obpqXHo5jX8DdNT49DNa+gb/gY9NQ5dvYa+4W/SU+PQ1WucG/4W/fO3BvCjq9fQV0wvDURXr6GvmF4aiK5eQ18xvTQQXb2GvWN6aCS6ew17x/TQSHT3Gm/o+Nv039/2fT+6fA15yfTOUHT5Gu6W6Zmx6PY11C1/h54Zi65fQ10zvTIYvR0Nc8/0yGj0djTERdMbw9Hb0fA2TU+MR29Hw1o1PbAE9HY0pGXT+4pAb0dDWTe9rhD0djR8jdPTykFvR4M+1NzR29GgDzV39HY06EPNHb0dDfpQc0dvR4M+1NzR29GgDzV39HY06EPNHb0dDfpQc0dvR4M+1NzR29GgDzV39HY06EPNHb0dDfpQc0dvR4M+1NzR29GgDzV39HY06EPNHb0dDfpQc0dvR4M+1NzR29GgDzV39HY06EPNHb0dDfpQc0dvR4M+1NzR29GgDzV39HY06EPNHb0dDfpQc0dvR4M+1NzR29GgDzV39HY06EPNHb0dDfpQc0dvR4M+1NzR29GgDzV39HY06EPNHb0dDfpQc0dvR4M+1NzR29GgDzV39HY06EPNHb0dDfpQc0dvR4M+1NzR29GgDzV39HY06EPNHb0dDfpQc0dvR4M+1NzR29H4Ln2pufoevR0P+lRzRS9HhD7VXNHLEaFPNVf0ckToU80VvRwR+lRzRS/HhL7V3NC7UaGPNTf0blToY80NvRuV79PXmosf0Ltxoc81F/RqZOhzzQW9Gpkf0veax/2IXo0NfbB5HL0ZHfpg8zh6Mz70xeZR9GKE6JPNo+jFGNE3m8fQe1GijzYP+TG9Fyf6bPMIei1W9N3m9eitaNGHm9ejt+JFX25ei16KGX27eR16J2709eY16JXY0febl9Eb8aMvOC/5CT2RJ0DfcL7YT+mBPAX6ivNF6HU8C/qO8/nobTwP+pLzeehlPJOf0cecz/JzehdPhr7nfBq9iefzC/qk83G/pBfxlH5Fn3X+79f0Gp7Wb+jTzn/9ll7Cc6PPOx988Dt6BAXoG3f7PX3+Gn+gT93pj/TdC/3pz3/58CP++re/f8I//vnhJ+3R4dG//k2femZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZma+VP8Bim0j3pCoYdwAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjItMDQtMDFUMTY6MzI6MDErMDA6MDBjRrAiAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIyLTA0LTAxVDE2OjMyOjAxKzAwOjAwEhsIngAAAABJRU5ErkJggg==",ao="/assets/home.f5b958c8.png";const io={components:{},created(){},data(){return{}},methods:{},computed:{},unmounted(){}},lo={class:"home-page"},co={class:"home-header"},uo={class:"homepage-nav"},ho=o("img",{src:be,class:"logo-icon"},null,-1),mo=o("img",{src:ro,class:"logo-icon",style:{display:"none"}},null,-1),bo=o("img",{src:no,class:"logo-icon",style:{display:"none"}},null,-1),po=o("span",{class:"logo-text"},"Tablero",-1),go={class:"login-container"},_o=P("Log in"),ko=P("Sign up"),vo={class:"home-container"},yo={class:"home-page-content"},fo={class:"home-page-content-container"},Co={class:"home-page-left"},Do=o("h1",{class:"header"},"Tablero helps teams move work forward.",-1),wo=o("p",{class:"home-text"}," Collaborate, manage projects, and reach new productivity peaks. From high rises to the home office, the way your team works is unique - accomplish it all with Tablero. ",-1),To={action:"",class:"form-container"},Bo={class:"start-btn-container"},Ao=P("Try live demo!"),Io=o("div",{class:"home-page-right"},[o("img",{src:ao,alt:"",width:"445",height:"575"})],-1);function xo(t,e,r,a,n,s){const i=g("router-link");return d(),l("section",lo,[o("header",co,[o("nav",uo,[C(i,{style:h(t.textColor),class:"main-logo",to:"/board/"},{default:O(()=>[ho,mo,bo,po]),_:1},8,["style"]),o("div",go,[C(i,{class:"login",to:"/login/"},{default:O(()=>[_o]),_:1}),C(i,{class:"logout",to:"/login/"},{default:O(()=>[ko]),_:1})])])]),o("section",vo,[o("div",yo,[o("div",fo,[o("div",Co,[Do,wo,o("form",To,[o("div",Bo,[C(i,{to:"/board/",class:"start-btn"},{default:O(()=>[Ao]),_:1})])])]),Io])])])])}var Eo=f(io,[["render",xo]]);const No={props:{boardName:String,boardId:String},components:{},created(){},data(){return{}},methods:{},computed:{},unmounted(){}},Mo={class:"board-card-title"};function zo(t,e,r,a,n,s){const i=g("router-link");return d(),E(i,{class:"board-card",to:"/board/"+r.boardId},{default:O(()=>[o("span",Mo,_(r.boardName),1)]),_:1},8,["to"])}var Oo=f(No,[["render",zo]]);const $o={props:{},components:{},created(){},data(){return{}},methods:{},computed:{},unmounted(){}},Po={class:"homepage-nav"},Fo=ne('<ul class="nav-options"><li class="list-option"><div class="home-content"><span class="option-icon"><span class="icon-container"><span class="boards-icon"></span></span></span><span class="option-text">Boards</span></div></li><li class="list-option"><div class="option-content"><span class="option-icon"><span class="icon-container"><span class="templates-icon"></span></span></span><span class="option-text">Templates</span></div></li><li class="list-option"><div class="option-content"><span class="option-icon"><span class="icon-container"><span class="home-icon"></span></span></span><span class="option-text">Home</span></div></li></ul>',1),Qo=[Fo];function So(t,e,r,a,n,s){return d(),l("section",Po,Qo)}var Uo=f($o,[["render",So]]);const qo="/api/";var Lo=V.create({withCredentials:!0});const N={get(t,e){return J(t,"GET",e)},post(t,e){return J(t,"POST",e)},put(t,e){return J(t,"PUT",e)},delete(t,e){return J(t,"DELETE",e)}};async function J(t,e="GET",r=null){try{return(await Lo({url:`${qo}${t}`,method:e,data:r,params:e==="GET"?r:null})).data}catch(a){throw console.log(`Had Issues ${e}ing to the backend, endpoint: ${t}, with data:`,r),console.dir(a),a.response&&a.response.status===401&&fe.push("/login"),a}}const T={query:Go,getBoardById:G,addBoard:Ho,updateBoard:L,removeBoard:Xo,saveGroup:Yo,removeGroup:Jo,getGroupIdByTaskId:pe,saveTask:Vo,getTask:Zo,removeTask:Wo,addMembersToBoard:Ro,removeUserFromBoard:jo,AddNewUserBoard:tr},X="board";async function Go(){try{const t=await S.getLoggedinUser();return await N.get(X,t)}catch(t){throw t}}async function G(t){try{return N.get(X+"/"+t)}catch(e){throw e}}async function Ho(t,e){var r=await S.getLoggedinUser();const a=Ko();r?(a.members.push(r),a.createdBy=r):(a.createdBy={username:"Admin",email:"Admin@gmail.com",imgUrl:"https://icon-library.com/images/member-icon/member-icon-19.jpg"},a.members.push({_id:"u123",username:"Guest",imgUrl:"https://icon-library.com/images/member-icon/member-icon-19.jpg"})),a.createdAt=Date.now(),a.title=t,a.style=e||{};try{return await N.post(X,a)}catch(n){throw n}}async function L(t){try{const e=await N.put(X+"/"+t._id,t);return q.emit("board-updated"),e}catch(e){throw e}}async function Ro(t,e){try{const r=await G(e);return t.forEach(a=>{r.members.some(n=>n._id===a._id)||r.members.push(a)}),await L(r)}catch(r){throw r}}async function jo(t,e){try{const r=await G(e),a=r.members.findIndex(n=>n._id===t);return r.members.splice(a,1),await L(r)}catch(r){throw r}}async function Xo(t){try{return await N.remove(X+"/"+t)}catch(e){throw e}}async function Yo(t,e){try{const r=await G(t);if(e._id){const a=r.groups.findIndex(n=>n._id===e._id);return r.groups[a]=e,await L(r),e}else{const a={_id:F.makeId(),title:e.title,tasks:[]};return r.groups.push(a),await L(r),a}}catch(r){throw r}}async function Jo(t,e){try{const r=await G(t),a=r.groups.findIndex(n=>n._id===e);return r.groups.splice(a,1),await L(r)}catch(r){throw r}}async function Vo(t,e){try{const r=await G(e);if(t._id){const a=await pe(t._id,e),n=r.groups.find(i=>i._id===a),s=n.tasks.findIndex(i=>i._id===t._id);return n.tasks[s]=t,await L(r),q.emit("task-updated"),t}else{const a=r.groups.find(s=>s._id===t.groupId),n=er(t.title);return a.tasks.push(n),await L(r),n}}catch(r){throw r}}async function Zo(t,e){const r=await G(e);try{const a=r.groups.find(s=>{if(s.tasks.find(c=>c._id===t))return!0});return a?a.tasks.find(s=>s._id===t):void 0}catch(a){throw a}}async function Wo(t,e){try{const r=await G(e),a=r.groups.find(s=>{if(s.tasks.find(c=>c._id===t))return!0});if(!a)return;const n=a.tasks.findIndex(s=>s._id===t);return a.tasks.splice(n,1),await L(r)}catch(r){throw r}}async function pe(t,e){try{return(await G(e)).groups.find(n=>{if(n.tasks.find(i=>i._id===t))return!0})._id}catch(r){throw r}}function Ko(){return{isStarred:!1,groups:[],style:{},members:[],activities:[],labels:[{_id:F.makeId(),title:"",color:"#61BD4F"},{_id:F.makeId(),title:"",color:"#F2D600"},{_id:F.makeId(),title:"",color:"#FF9F1A"},{_id:F.makeId(),title:"",color:"#EB5A46"},{_id:F.makeId(),title:"",color:"#C377E0"},{_id:F.makeId(),title:"",color:"#0079BF"}]}}function er(t){return{title:t,description:"",_id:F.makeId(),createdAt:Date.now(),labelIds:[],style:{color:"",isBackground:!1}}}async function tr(){try{const t=await S.getLoggedinUser(),e={isStarred:!0,groups:[{_id:"bqIL3",title:"We are Tablero",tasks:[{title:"Press here to see the description!",description:`Hello!
We are Tablero, our site is based on the famous website Trello, and actually is a finish project for a web development course called Coding Academy,
Hope you will like our website!`,_id:"ceJ6s",createdAt:1648802285434,labelIds:["B8K9o"],style:{color:"",isBackground:!1}},{title:"About us: Tal",description:`Hey, my name is Tal, I am one of the three developers of Tablero.
I am currently 24 years old, born in Israel. I am a passionate web developer currently working in the industry!`,_id:"tKbdt",createdAt:1648802659198,labelIds:[],style:{isBackground:!0,photo:"https://images.unsplash.com/photo-1554730501-8dd4db2b18cc?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwzMTM3MDJ8MHwxfHJhbmRvbXx8fHx8fHx8fDE2NDg4MDI4MzQ&ixlib=rb-1.2.1&q=80&w=1080"}},{title:"About us: Ben",description:`Hey, my name is Ben, I am one of the three developers of Tablero.
I am currently 25 years old, born in Israel, and currently learning how to be a web developer!`,_id:"KQWzA",createdAt:1648802466487,labelIds:[],style:{isBackground:!0,photo:"https://images.unsplash.com/photo-1418065460487-3e41a6c84dc5?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwzMTM3MDJ8MHwxfHJhbmRvbXx8fHx8fHx8fDE2NDg4MDI3NDk&ixlib=rb-1.2.1&q=80&w=1080"}},{title:"About us: Tomer",description:`Hey, my name is Tomer, I am one of the three developers of Tablero.
I am currently 25 years old, born in Israel, and currently learning how to be a web developer!`,_id:"MXIbQ",createdAt:1648802630036,labelIds:[],style:{isBackground:!0,photo:"https://images.unsplash.com/photo-1569337042150-c21c85b80a10?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwzMTM3MDJ8MHwxfHJhbmRvbXx8fHx8fHx8fDE2NDg4MDI3ODQ&ixlib=rb-1.2.1&q=80&w=1080"}}]},{_id:"Vz34z",title:"What can you do?",tasks:[{title:"You can add lists of assigments!",description:"You can add lists of assigment and project, you can make them about a big project or even make each list resemble a day",_id:"X5NDr",createdAt:1648802883509,labelIds:["J5cwX"],style:{color:"",isBackground:!1}},{title:"You can add tasks to each list!",description:"You can add to every list how many tasks you would like to have, you can have a task which is simple or complicated and use inside options to manage the tasks(due dates, label, checklists, etc..)",_id:"hnZg7",createdAt:1648802977504,labelIds:["AKWkC"],style:{color:"",isBackground:!1}},{title:"You can manage your tasks!",description:`- Add description to the task.
- Add members to each task(only those who are members in your board).
- Add labels to filter importance / subject or what ever you see fit.
- Add checklist to more complicated tasks that involve more actions to complete.
- Add due dates to your tasks to let your colleagues/employees know until when to finish the task.
- Add attachments of images or cover to add a more descriptive information about the task.
- Archive a task if it's done , created by accident etc..`,_id:"3IcE5",createdAt:1648803150039,labelIds:["60snY"],style:{color:"",isBackground:!1}},{title:"Drag to your tasks / lists",description:"You can drag your lists to organize them by order , and even drag tasks between lists.",_id:"CMDwe",createdAt:1648803490618,labelIds:["GQaOp"],style:{color:"",isBackground:!1}},{title:"Invite members to your board",description:`You can invite members to your board. Your members can be your employees, friend or family, after they are signed up to our app!
Whoever you will add will be able to see and update tasks, add lists and this way you will get your project very efficient!`,_id:"IHgIH",createdAt:1648803628093,labelIds:["j5zAD"],style:{color:"",isBackground:!1},memberIds:[]},{title:"Quickly edit tasks",description:"By hovering over a task with your cursor you can press the edit icon and quickly edit your tasks.",_id:"hmMrj",createdAt:1648803851266,labelIds:["X86Hk"],style:{color:"",isBackground:!1}},{title:"Change covers",description:"You can change covers to your board, to help you separate boards.",_id:"8bnhH",createdAt:1648804443303,labelIds:["idxKC"],style:{color:"",isBackground:!1}}]},{_id:"bLROG",title:"What is the purpose of our app?",tasks:[{title:"Project managment",description:"Let's say you have a big or even a small project to do, you have a lot of work to be done, but you don't have a place to write down your tasks, or how to organize all the job you have to do, you can simply make yourself a personal/shared board and start writing what needs to be done, by what order, add a due date and a lot more options!",_id:"xIx9i",createdAt:1648803913661,labelIds:[],style:{isBackground:!1,photo:"https://images.unsplash.com/photo-1517048676732-d65bc937f952?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwzMTM3MDJ8MHwxfHJhbmRvbXx8fHx8fHx8fDE2NDg4MDQxNTc&ixlib=rb-1.2.1&q=80&w=1080"}},{title:"Manage your business to maximum efficiency",description:`Let's say you have a business with a few or many employees, a lot of work to assign, a lot of tasks that needs to be done.
You can simply make a new board, and start making lists of tasks by category/day or however you like and start assigning members to each task and they can edit the task to let you know if it's complete or start working on the next step of the task.`,_id:"KxFWy",createdAt:1648803969350,labelIds:[],style:{isBackground:!1,photo:"https://images.unsplash.com/photo-1573496130488-f3bd89d03653?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwzMTM3MDJ8MHwxfHJhbmRvbXx8fHx8fHx8fDE2NDg4MDQzOTA&ixlib=rb-1.2.1&q=80&w=1080"}},{title:"Plan a vacation",description:`So you have a vacation ahead of you, how fun!
As you know vacation planning can be difficult and overwhelming, alot of stuff to buy, plan.
You can make yourself a vacation board, make lists of what you need to buy, where you want to go on your destination, and all you want to do!`,_id:"ZDZtM",createdAt:1648803974843,labelIds:[],style:{isBackground:!1,photo:"https://images.unsplash.com/photo-1611043714658-af3e56bc5299?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwzMTM3MDJ8MHwxfHJhbmRvbXx8fHx8fHx8fDE2NDg4MDQ0MTU&ixlib=rb-1.2.1&q=80&w=1080"}},{title:"Help you organize your household tasks",description:`If you are the manager of your household you already know how difficult it is to be organized with all the tasks, cleaning, buying groceries, cooking, etc...
We try and make it a simple as possible for you to manage all of these to make you life as simple as possible`,_id:"aw9cw",createdAt:1648804012606,labelIds:[],style:{isBackground:!1,photo:"https://images.unsplash.com/photo-1631889992085-85e6adc159fe?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwzMTM3MDJ8MHwxfHJhbmRvbXx8fHx8fHx8fDE2NDg4MDQ2ODQ&ixlib=rb-1.2.1&q=80&w=1080"}}]}],style:{photo:"https://images.unsplash.com/photo-1517480625158-292a09aee755?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwzMTM3MDJ8MHwxfHJhbmRvbXx8fHx8fHx8fDE2NDg3NTMyODY&ixlib=rb-1.2.1&q=80&w=1080"},members:[t],activities:[],labels:[{title:"Members",color:"#61BD4F",_id:"j5zAD"},{title:"Hello",color:"#61BD4F",_id:"B8K9o"},{_id:"2Ur26",title:"",color:"#61BD4F"},{title:"Lists",color:"#F2D600",_id:"J5cwX"},{_id:"OXILN",title:"",color:"#F2D600"},{title:"Tasks",color:"#FF9F1A",_id:"AKWkC"},{_id:"lxDUG",title:"",color:"#FF9F1A"},{title:"Drag",color:"#EB5A46",_id:"GQaOp"},{_id:"3UbCS",title:"",color:"#EB5A46"},{title:"Options",color:"#C377E0",_id:"60snY"},{_id:"yjYE1",title:"",color:"#C377E0"},{title:"Quick edit",color:"#0079BF",_id:"X86Hk"},{title:"Separation",color:"#00c2e0",_id:"idxKC"},{_id:"utucS",title:"",color:"#0079BF"}],createdBy:t,createdAt:Date.now(),title:"Get to know us"};return await N.post(X,e)}catch(t){throw t}}const S={login:ar,logout:dr,signup:ir,getLoggedinUser:lr,getUsers:sr,getById:or,remove:rr,update:nr,googleLogin:cr};window.userService=S;async function sr(t){return N.get("user",t)}async function or(t){const e=await N.get(`user/${t}`);return gWatchedUser=e,e}function rr(t){return N.delete(`user/${t}`)}async function nr(t){return t=await N.put(`user/${t._id}`,t),t}async function ar(t){return await N.post("auth/login",t)}async function ir(t){const e=await N.post("auth/signup",t);return T.AddNewUserBoard(),e}async function dr(){return await N.post("auth/logout")}async function lr(){try{return await N.get("auth/loggedinUser")}catch(t){throw t}}async function cr(t){return await N.post("auth/googleLogin",t)}const ur={emits:["openDrop","open-drop"],components:{boardPreview:Oo,hompageNav:Uo},created(){this.$store.dispatch({type:"getLoggedinUser"}),this.$store.dispatch({type:"loadBoards"}),this.$store.commit({type:"setCurrBoardId",boardId:null}),this.$store.commit({type:"changeHeaderBgc",bgc:"#026aa7"})},data(){return{}},methods:{openDropdown(t){this.$emit("open-drop",t)},async starBoard(t){await this.$store.dispatch({type:"starBoard",boardId:t})}},computed:{boards(){return this.$store.getters.boards||[]},starredBoards(){return this.$store.getters.starredBoards||[]},cardBG(){return t=>t.photo?`background-image: url(${t.photo})`:t.backgroundColor?`background-color: ${t.backgroundColor}`:"background-color: #0079bf"},loggedinUser(){return this.$store.getters.loggedinUser}},unmounted(){},watch:{loggedinUser:{handler(){this.$store.dispatch({type:"loadBoards"})}}}},hr={class:"boards-page"},mr={class:"all-boards"},br={key:0,class:"not-logged-title"},pr=o("span",{class:"watch-icon"},null,-1),gr=o("h3",null,"When not logged, all the boards below are visible and editable to everyone",-1),_r=[pr,gr],kr={key:1,class:"starred-boards-container"},vr=o("div",{class:"starred-boards-title"},[o("span",{class:"member-icon"}),o("h3",{class:"starred-header"},"Starred boards")],-1),yr={class:"starred-boards-list-container"},fr={class:"starred-boards-list"},Cr=o("span",{class:"link-block"},null,-1),Dr={class:"board-card-details"},wr={class:"card-header-name"},Tr={class:"card-star"},Br=["onClick"],Ar=o("span",{class:"star"},null,-1),Ir=[Ar],xr={key:2,class:"your-boards-container"},Er=o("div",{class:"your-boards-title"},[o("div",{class:"member-icon"}),o("h3",{class:"your-boards-header"},"Your boards")],-1),Nr={class:"your-boards-list-container"},Mr={class:"your-boards-list"},zr=o("span",{class:"link-block"},null,-1),Or={class:"board-card-details"},$r={class:"card-header-name"},Pr={class:"card-star"},Fr=["onClick"],Qr=o("span",{class:"star"},null,-1),Sr=[Qr],Ur=o("div",{class:"new-board-card"},[o("p",null,[o("span",null,"Create new board")])],-1),qr=[Ur];function Lr(t,e,r,a,n,s){const i=g("hompage-nav"),c=g("router-link");return d(),l("section",hr,[C(i),o("div",mr,[s.loggedinUser?m("",!0):(d(),l("div",br,_r)),s.starredBoards.length?(d(),l("div",kr,[vr,o("div",yr,[o("ul",fr,[(d(!0),l(D,null,w(s.starredBoards,u=>(d(),l("li",{class:"board-card",key:u._id},[C(c,{class:"board-link",to:"/board/"+u._id,style:h(s.cardBG(u.style))},{default:O(()=>[Cr,o("div",Dr,[o("div",wr,_(u.title),1),o("div",Tr,[o("span",{onClick:k(p=>s.starBoard(u._id),["prevent"]),class:"card-star-container"},Ir,8,Br)])])]),_:2},1032,["to","style"])]))),128))])])])):m("",!0),s.boards.length?(d(),l("div",xr,[Er,o("div",Nr,[o("ul",Mr,[(d(!0),l(D,null,w(s.boards,u=>(d(),l("li",{class:"board-card",key:u._id},[C(c,{class:"board-link",to:"/board/"+u._id,style:h(s.cardBG(u.style))},{default:O(()=>[zr,o("div",Or,[o("div",$r,_(u.title),1),o("div",Pr,[o("span",{onClick:k(p=>s.starBoard(u._id),["prevent"]),class:"card-star-container"},Sr,8,Fr)])])]),_:2},1032,["to","style"])]))),128)),o("li",{class:"create-new-board-card",onClick:e[0]||(e[0]=u=>s.openDropdown("createBoardDrop"))},qr)])])])):m("",!0)])])}var Gr=f(ur,[["render",Lr]]);const Hr={props:{},components:{avatarProfile:R},created(){},data(){return{isEditTitle:!1,openMemberDetails:null}},methods:{toggleEditTitle(){this.isEditTitle=!this.isEditTitle,this.isEditTitle&&setTimeout(()=>{this.$refs.titleEdit.focus()},100)},saveBoardTitle(){!this.board.title||this.$emit("board-title-changed",JSON.parse(JSON.stringify(this.board)))},stopEdit(){this.isEditTitle=!this.isEditTitle},openMenu(){this.$emit("open-menu")},async starBoard(){await this.$store.dispatch({type:"starBoard",boardId:this.board._id})},openInviteMembers(){const t=this.$refs.inviteMembersBtn.getBoundingClientRect().top,r={x:this.$refs.inviteMembersBtn.getBoundingClientRect().right,y:t};this.$emit("open-invite",r)},closeMemberDetails(){this.openMemberDetails=null},async removeMember(t){this.loggedinUser._id!==this.board.createdBy._id||this.board.createdBy._id===t||!this.loggedinUser||await this.$store.dispatch({type:"removeUserFromBoard",memberId:t,boardId:this.board._id})}},computed:{board(){return this.$store.getters.currBoard},bgc(){return this.$store.getters.boardBgc},textColor(){if(!!this.bgc)return this.bgc.isLight?"color: #172b4d":"color: white"},btnBgc(){if(!!this.bgc)return this.bgc.isLight?"background-color: #0000001a":"background-color: #ffffff3d"},bgDarkness(){return this.board.style.backgroundColor?"":this.bgc.isLight?"background: rgb(255 255 255 / 24%);":"background: #0000003d;"},isStarred(){return this.board.isStarred?"starred":"not-starred"},loggedinUser(){return this.$store.getters.loggedinUser}}},Rr={class:"board-header-nav"},jr={class:"board-header-left"},Xr={class:"board-header-btn board-name"},Yr={class:"title"},Jr={key:0,class:"member-details"},Vr={class:"member-details-header"},Zr={class:"member-details-body"},Wr=o("hr",null,null,-1),Kr=["onClick"],en=o("span",null,"Remove from board...",-1),tn=[en],sn=["disabled","title"],on=o("button",null,[o("span",{class:"invite-icon"}),o("span",{class:"invite-txt"},"Invite")],-1),rn=[on],nn={class:"board-header-right"},an=o("span",{class:"menu-icon"},null,-1),dn=o("span",{class:"show-menu-txt"},"Show menu",-1),ln=[an,dn];function cn(t,e,r,a,n,s){const i=g("avatar-profile"),c=$("clickoutside");return d(),l("section",{class:"board-header",style:h(s.bgDarkness)},[o("nav",Rr,[o("div",jr,[o("div",Xr,[o("div",Yr,[n.isEditTitle?y((d(),l("input",{key:1,type:"text","onUpdate:modelValue":e[1]||(e[1]=u=>s.board.title=u),ref:"titleEdit",onInput:e[2]||(e[2]=(...u)=>s.saveBoardTitle&&s.saveBoardTitle(...u)),onKeyup:e[3]||(e[3]=W((...u)=>s.toggleEditTitle&&s.toggleEditTitle(...u),["enter"])),style:h("width:"+s.board.title.length*11.5+"px")},null,36)),[[x,s.board.title],[c,s.stopEdit]]):(d(),l("h1",{key:0,onClick:e[0]||(e[0]=(...u)=>s.toggleEditTitle&&s.toggleEditTitle(...u)),style:h(s.textColor)},_(s.board.title),5))])]),o("div",{class:"board-header-btn board-starred",style:h(s.btnBgc)},[o("a",{onClick:e[4]||(e[4]=k((...u)=>s.starBoard&&s.starBoard(...u),["prevent"])),style:h(s.textColor),class:"star-board"},[o("span",{class:I(s.isStarred)},null,2)],4)],4),o("div",{class:"board-members",style:h("width: "+s.board.members.length*21+"px")},[(d(!0),l(D,null,w(s.board.members,(u,p)=>(d(),l("span",{href:"",style:h("left:"+p*21+"px;")},[C(i,{username:u.username,imgURL:u.imgUrl,onClick:b=>n.openMemberDetails=u._id,title:u.email},null,8,["username","imgURL","onClick","title"]),n.openMemberDetails===u._id?y((d(),l("div",Jr,[o("div",Vr,[C(i,{username:u.username,imgURL:u.imgUrl,title:u.email},null,8,["username","imgURL","title"]),o("span",null,_(u.username),1)]),o("div",Zr,[Wr,o("button",{onClick:b=>s.removeMember(u._id)},tn,8,Kr)])])),[[c,s.closeMemberDetails]]):m("",!0)],4))),256))],4),o("button",{class:"invite-btn",ref:"inviteMembersBtn",onClick:e[5]||(e[5]=(...u)=>s.openInviteMembers&&s.openInviteMembers(...u)),disabled:!s.loggedinUser,title:s.loggedinUser?"Invite members to your board":"Login to add members"},rn,8,sn)]),o("div",nn,[o("div",{class:"board-header-btn board-menu",style:h(s.btnBgc)},[o("button",{onClick:e[6]||(e[6]=(...u)=>s.openMenu&&s.openMenu(...u)),class:"menu-btn",style:h(s.textColor)},ln,4)],4)])])],4)}var un=f(Hr,[["render",cn]]);const hn={props:{label:String},components:{},created(){},data(){return{}},methods:{getLabel(t){return this.label?this.$store.getters.currBoard.labels.find(a=>a._id===t):void 0},showTitle(){this.$store.dispatch({type:"toggleLabelTitle"})}},computed:{isTitleShown(){return this.$store.getters.isLabelTitleShown},isStartAnimation(){return this.$store.getters.isStartAnimation},labelStyle(){const t=this.getLabel(this.label),e=this.isStartAnimation?"fit-content":"40px";return`background-color: ${t==null?void 0:t.color};height: ${this.labelSize.height}; width: ${this.labelSize.width}; min-width: ${e}`},labelTitle(){const t=this.getLabel(this.label);return t==null?void 0:t.title},isLabelOpen(){return this.isTitleShown?"label-open":"label-closing"},textAnimationBehavior(){return this.isStartAnimation?"opacity: 1; position: relative":"opacity: 0; position: absolute"},labelSize(){return this.$store.getters.labelSize}},unmounted(){}};function mn(t,e,r,a,n,s){return d(),l("span",{onClick:e[0]||(e[0]=k((...i)=>s.showTitle&&s.showTitle(...i),["stop","prevent"])),class:I(["label",s.isLabelOpen]),style:h(s.labelStyle)},[o("span",{class:"label-text",style:h(s.textAnimationBehavior)},_(s.labelTitle),5)],6)}var bn=f(hn,[["render",mn]]);const pn={props:{task:Object},components:{avatarProfile:R},created(){},data(){return{}},methods:{toggleDateDone(){this.task.dueDate.isComplete=!this.task.dueDate.isComplete;const t=this.$route.params.boardId;this.$store.dispatch({type:"saveTask",task:JSON.parse(JSON.stringify(this.task)),boardId:t})}},computed:{board(){return this.$store.getters.currBoard},date(){const t=new Date(this.task.dueDate.dueDate),r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],a=t.getDate(),n=t.getFullYear(),i=new Date(Date.now()).getFullYear();return n!==i?`${r} ${a}, ${n}`:`${r} ${a}`},commentCount(){var t;return(t=this.task.comments)==null?void 0:t.length},attachmentsCount(){var t;return(t=this.task.attachments)==null?void 0:t.count},checklistDisplay(){var t=0,e=0;return this.task.checklists.forEach(r=>{r.todos.forEach(a=>{t++,a.isDone&&e++})}),`${e}/${t}`},checklistBg(){var t=0,e=0;return this.task.checklists.forEach(r=>{r.todos.forEach(a=>{t++,a.isDone&&e++})}),e===t?"background-color: #61bd4f; color:white":""},dateBadgeBg(){if(this.task.dueDate.isComplete)return"background-color: #61bd4f; color: #fff";const t=new Date(Date.now()).getDate(),e=new Date(this.task.dueDate).getDate();if(!(this.task.dueDate-Date.now()>864e5)&&e-t===1)return"background-color: #f2d600; color: #fff;"},boardMembers(){return this.$store.getters.boardMembers},taskMembers(){const t=[];return this.task.memberIds.forEach(e=>{this.boardMembers.forEach(r=>{r._id===e&&t.push(r)})}),t}},unmounted(){}},gn={key:0},_n={class:"badges"},kn={key:0,class:"watch"},vn=o("span",{class:"watch-icon badge-icon"},null,-1),yn=[vn],fn={key:0,class:"date-complete-icon badge-icon"},Cn={key:1,class:"date-incomplete-icon badge-icon"},Dn={class:"badge-text"},wn={key:2,class:"description"},Tn=o("span",{class:"description-icon badge-icon"},null,-1),Bn=[Tn],An={key:3,class:"comments"},In=o("span",{class:"comments-icon badge-icon"},null,-1),xn={class:"badge-text"},En={key:4,class:"attachments"},Nn=o("span",{class:"attachments-icon badge-icon"},null,-1),Mn={class:"badge-text"},zn=o("span",{class:"checklist-icon badge-icon"},null,-1),On={class:"badge-text"},$n={key:0,class:"task-members"};function Pn(t,e,r,a,n,s){var c,u,p,b,M,z,B,A,Y;const i=g("avatar-profile");return(((c=r.task.memberIds)==null?void 0:c.length)||r.task.dueDate||((u=r.task.attachments)==null?void 0:u.length)||((p=r.task.checklists)==null?void 0:p.length)||((b=r.task.comments)==null?void 0:b.length))&&!r.task.style.isBackground||r.task.description?(d(),l("section",gn,[o("div",_n,[r.task.watching?(d(),l("div",kn,yn)):m("",!0),(M=r.task.dueDate)!=null&&M.dueDate?(d(),l("div",{key:1,onClick:e[0]||(e[0]=k((...U)=>s.toggleDateDone&&s.toggleDateDone(...U),["prevent"])),class:"date",style:h(s.dateBadgeBg)},[this.task.dueDate.isComplete?(d(),l("span",fn)):(d(),l("span",Cn)),o("span",Dn,_(s.date),1)],4)):m("",!0),r.task.description?(d(),l("div",wn,Bn)):m("",!0),(z=r.task.comments)!=null&&z.length?(d(),l("div",An,[In,o("span",xn,_(s.commentCount),1)])):m("",!0),(B=r.task.attachments)!=null&&B.length?(d(),l("div",En,[Nn,o("span",Mn,_(s.attachmentsCount),1)])):m("",!0),(A=r.task.checklists)!=null&&A.length?(d(),l("div",{key:5,class:"checklist",style:h(s.checklistBg)},[zn,o("span",On,_(s.checklistDisplay),1)],4)):m("",!0)]),(Y=r.task.memberIds)!=null&&Y.length?(d(),l("div",$n,[(d(!0),l(D,null,w(s.taskMembers,U=>(d(),l("div",{class:"member-img",key:U},[C(i,{username:U.username,imgURL:U.imgUrl,class:"member-img",title:U.username},null,8,["username","imgURL","title"])]))),128))])):m("",!0)])):m("",!0)}var Fn=f(pn,[["render",Pn]]);const Qn={props:{labels:Array,task:Object},data(){return{labelToAdd:{title:"",color:"#61BD4F"},labelColors:["#61BD4F","#F2D600","#FF9F1A","#EB5A46","#C377E0","#0079BF","#00c2e0","#51e898","#ff78cb","#344563","#b3bac5"],isAdding:!1}},created(){this.task.labelIds||(this.task.labelIds=[])},methods:{toggleIsAdding(){this.isAdding=!0},closeAction(t){this.$emit("close-action",t)},toggleLabel(t){if(this.labelIds.includes(t)){const e=this.labelIds.findIndex(r=>r===t);this.labelIds.splice(e,1)}else this.labelIds.push(t);this.$emit("label-set",this.labelIds)},setLabelColor(t){this.labelToAdd.color=t},onAddLabel(){!this.labelToAdd.title||(this.$emit("label-add",Q({},this.labelToAdd)),this.isAdding=!1,this.labelToAdd={title:"",color:""})},editLabel(t){this.labelToAdd=Q({},t),this.isAdding=!0},onDeleteLabel(){this.$emit("label-delete",this.labelToAdd._id),this.isAdding=!1,this.labelToAdd={title:"",color:""}}},computed:{labelIds(){return this.task.labelIds},labelShadowColor(){return t=>{switch(t=t.toUpperCase(),t){case"#61BD4F":return"#529739";case"#F2D600":return"#D9B41C";case"#FF9F1A":return"#CD8313";case"#EB5A46":return"#AF4632";case"#C377E0":return"#89609E";case"#0079BF":return"#055A8C";case"#00C2E0":return"#0098B7";case"#51E898":return"#4BBF6B";case"#FF78CB":return"#C9558F";case"#344563":return"#091E42";case"#B3BAC5":return"#97a0af"}}}},components:{}},Sn={class:"label-menu"},Un={key:0,class:"label-main"},qn={class:"label-menu-header"},Ln=o("h3",{class:"menu-title"},"Labels",-1),Gn=o("hr",null,null,-1),Hn={class:"main"},Rn=o("input",{type:"text",placeholder:"Search labels..."},null,-1),jn=o("h4",null,"Labels",-1),Xn=["onClick"],Yn={class:"label-title"},Jn={key:0,class:"check-icon"},Vn=["onClick"],Zn={key:1,class:"label-add"},Wn={class:"header"},Kn=o("h3",{class:"menu-title"},"Create Label",-1),ea=o("hr",null,null,-1),ta={class:"main"},sa=o("h4",null,"Name",-1),oa=o("h4",null,"Select a color",-1),ra={class:"labels-container"},na=["onClick"],aa={key:0,class:"check-icon"},ia=o("div",{class:"text"},[o("p",{class:"txt-no-color"},"No color."),o("p",{class:"txt-lng-no-color"},"This won't show up on the front of cards.")],-1),da={key:1,class:"edit-btns"};function la(t,e,r,a,n,s){return d(),l("section",Sn,[n.isAdding?(d(),l("div",Zn,[o("div",Wn,[o("span",{onClick:e[2]||(e[2]=k(i=>n.isAdding=!1,["stop"])),class:"back-icon"}),Kn,o("span",{onClick:e[3]||(e[3]=(...i)=>s.closeAction&&s.closeAction(...i)),class:"close-icon"})]),ea,o("div",ta,[sa,y(o("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=i=>n.labelToAdd.title=i),autofocus:""},null,512),[[x,n.labelToAdd.title]]),oa,o("div",ra,[(d(!0),l(D,null,w(n.labelColors,i=>(d(),l("span",{onClick:c=>s.setLabelColor(i),class:"labelColor",key:i,style:h({backgroundColor:i})},[n.labelToAdd.color===i?(d(),l("span",aa)):m("",!0)],12,na))),128)),ia]),n.labelToAdd._id?(d(),l("div",da,[o("button",{onClick:e[6]||(e[6]=k((...i)=>s.onAddLabel&&s.onAddLabel(...i),["stop"])),class:"save-btn"},"Save"),o("button",{onClick:e[7]||(e[7]=k((...i)=>s.onDeleteLabel&&s.onDeleteLabel(...i),["stop"])),class:"delete-btn"},"Delete")])):(d(),l("button",{key:0,onClick:e[5]||(e[5]=k((...i)=>s.onAddLabel&&s.onAddLabel(...i),["stop"])),class:"add-btn"},"Create"))])])):(d(),l("div",Un,[o("div",qn,[Ln,o("span",{class:"label-menu-exit",onClick:e[0]||(e[0]=(...i)=>s.closeAction&&s.closeAction(...i))})]),Gn,o("div",Hn,[Rn,jn,(d(!0),l(D,null,w(r.labels,i=>(d(),l("div",{class:"label-container",key:i._id},[o("span",{onClick:c=>s.toggleLabel(i._id),style:h({backgroundColor:i.color,color:s.labelShadowColor(i.color)}),class:"label"},[o("span",Yn,_(i.title),1),s.labelIds.includes(i._id)?(d(),l("span",Jn)):m("",!0)],12,Xn),o("span",{class:"label-edit-icon",onClick:k(c=>s.editLabel(i),["stop"])},null,8,Vn)]))),128)),o("button",{onClick:e[1]||(e[1]=k((...i)=>s.toggleIsAdding&&s.toggleIsAdding(...i),["stop"])),class:"create-btn"},"Create a new label")])]))])}var ge=f(Qn,[["render",la]]);const ca={props:{task:Object,attachments:Array},data(){return{colors:["#7BC86C","#F5DD29","#FFAF3F","#EF7564","#CD8DE5","#5BA4CF","#29CCE5","#6DECA9","#FF8ED4","#172B4D"],defaultImgs:[],searchKeywords:["Productivity","Perspective","Organization","Colorful","Nature","Business","Minimal","Space","Animals"],isSearch:!1,searchPhotos:[],searchKey:""}},created(){this.task.style||(this.task.style={}),this.loadDefaultPhotos()},methods:{async loadDefaultPhotos(){const t=await H.loadDefaultPhotos();this.defaultImgs=t.slice(0,6)},setTaskColor(t){this.isCoverActive=!!t,t||this.setCoverSize("half"),this.$emit("color-set",t)},async setTaskPhoto(t){if(this.isSearch){const e=await H.loadDefaultPhotos();e.pop(),e.unshift(t),H.savePhotosToStorage(e),this.loadDefaultPhotos(),this.isSearch=!1,this.searchKey=""}this.isCoverActive=!!t,t||this.setCoverSize("half"),this.$emit("photo-set",t)},setCoverSize(t){this.$emit("cover-size-set",t)},closeAction(t){this.$emit("close-action",t)},async getPhotosBySearch(){const t=await H.getPhotosByKeyword(this.searchKey);this.searchPhotos=t}},computed:{coverSizesColor(){return this.task.style.photo?"":this.task.style.color?this.task.style.color:"#CFD3DB"},coverSizesPhoto(){return this.task.style.color?"":this.task.style.photo?this.task.style.photo:"#CFD3DB"},isCoverActive(){return!!(this.task.style.color||this.task.style.photo)},currColor(){return this.task.style.color},currPhoto(){return this.task.style.photo},isBackground(){return this.task.style.isBackground}},watch:{searchKey:{async handler(){this.searchKey||(this.searchKey="nature"),this.getPhotosBySearch()},immediate:!0}}},ua={class:"cover-menu"},ha={key:0,class:"cover-menu-first"},ma={class:"cover-menu-header"},ba=o("h3",{class:"menu-title"},"Cover",-1),pa=o("hr",null,null,-1),ga={class:"main"},_a=o("h4",null,"Size",-1),ka={class:"cover-size-container"},va={class:"imgs-container"},ya={class:"cover-content"},fa={class:"cover-show-bottom"},Ca={class:"cover-show-btns"},Da={class:"cover-content"},wa=o("h4",null,"Colors",-1),Ta={class:"colors-container"},Ba=["onClick"],Aa={class:"attachments"},Ia=o("h4",null,"Attachments",-1),xa={class:"attachments-container"},Ea=["onClick"],Na=["src"],Ma={class:"photos-main"},za=o("h4",null,"Photos from Unsplash",-1),Oa={class:"photos-container"},$a=["onClick"],Pa=["src"],Fa={key:1,class:"cover-menu-second"},Qa={class:"header"},Sa=o("h3",{class:"menu-title"},"Photo search",-1),Ua=o("hr",null,null,-1),qa=o("h4",null,"Suggested searches",-1),La=["onClick"],Ga=o("h4",null,"Top photos",-1),Ha=["src","onClick"];function Ra(t,e,r,a,n,s){const i=$("debounce");return d(),l("section",ua,[n.isSearch?m("",!0):(d(),l("section",ha,[o("div",ma,[ba,o("span",{class:"cover-menu-exit",onClick:e[0]||(e[0]=(...c)=>s.closeAction&&s.closeAction(...c))})]),pa,o("div",ga,[_a,o("div",ka,[o("div",va,[o("div",{ref:"halfCover",class:"half-cover",onClick:e[1]||(e[1]=c=>s.setCoverSize("half")),style:h({pointerEvents:s.currColor||s.currPhoto?"auto":"none",boxShadow:s.isBackground?"":s.isCoverActive?"0 0 0 2px #ffffff, 0 0 0 4px #0079bf":""})},[o("div",{class:"head",style:h({backgroundColor:s.coverSizesColor,backgroundImage:`url(${s.coverSizesPhoto})`})},null,4),o("div",ya,[o("div",{class:"row-lg",style:h({backgroundColor:s.currColor||s.currPhoto?"#6B778C":"#cfd3db"})},null,4),o("div",{class:"row-sml",style:h({backgroundColor:s.currColor||s.currPhoto?"#6B778C":"#cfd3db"})},null,4),o("div",fa,[o("div",Ca,[o("div",{class:"cover-show-btn",style:h({backgroundColor:s.currColor||s.currPhoto?"#6B778C":"#cfd3db"})},null,4),o("div",{class:"cover-show-btn",style:h({backgroundColor:s.currColor||s.currPhoto?"#6B778C":"#cfd3db"})},null,4)]),o("div",{class:"cover-show-member",style:h({backgroundColor:s.currColor||s.currPhoto?"#6B778C":"#cfd3db"})},null,4)])])],4),o("div",{ref:"fullCover",class:"full-cover",onClick:e[2]||(e[2]=c=>s.setCoverSize("full")),style:h({backgroundColor:s.coverSizesColor,backgroundImage:`url(${s.coverSizesPhoto})`,pointerEvents:s.isCoverActive?"auto":"none",boxShadow:s.isBackground&&s.isCoverActive?"0 0 0 2px #ffffff, 0 0 0 4px #0079bf":""})},[o("div",Da,[o("div",{class:"row-lg",style:h({backgroundColor:s.currColor||s.currPhoto?"#6B778C":"#FFF"})},null,4),o("div",{class:"row-sml",style:h({backgroundColor:s.currColor||s.currPhoto?"#6B778C":"#FFF"})},null,4)])],4)]),s.currColor||s.currPhoto?(d(),l("button",{key:0,onClick:e[3]||(e[3]=c=>{s.setTaskColor(""),s.setTaskPhoto("")})},"Remove cover")):m("",!0)]),wa,o("div",Ta,[(d(!0),l(D,null,w(n.colors,c=>(d(),l("div",{key:c},[o("span",{class:"color",onClick:u=>s.setTaskColor(c),style:h({backgroundColor:c,boxShadow:s.currColor===c?"0 0 0 2px #ffffff, 0 0 0 4px #0079bf":""})},null,12,Ba)]))),128))]),o("div",Aa,[Ia,o("div",xa,[(d(!0),l(D,null,w(r.attachments,c=>(d(),l("div",{onClick:u=>s.setTaskPhoto(c.url),key:c.asset_id},[o("img",{src:c.url,style:h({boxShadow:s.currPhoto===c.url?"0 0 0 2px #ffffff, 0 0 0 4px #0079bf":""})},null,12,Na)],8,Ea))),128))])]),o("div",Ma,[za,o("div",Oa,[(d(!0),l(D,null,w(n.defaultImgs,c=>(d(),l("div",{onClick:u=>s.setTaskPhoto(c),key:c},[o("img",{src:c,style:h({boxShadow:s.currPhoto===c?"0 0 0 2px #ffffff, 0 0 0 4px #0079bf":""})},null,12,Pa)],8,$a))),128))]),o("button",{onClick:e[4]||(e[4]=k(c=>n.isSearch=!0,["stop"])),class:"more-photos-btn"},"Search for photos")])])])),n.isSearch?(d(),l("section",Fa,[o("div",Qa,[o("span",{onClick:e[5]||(e[5]=k(c=>n.isSearch=!1,["stop"])),class:"back-btn"}),Sa,o("span",{onClick:e[6]||(e[6]=(...c)=>s.closeAction&&s.closeAction(...c)),class:"close-btn"})]),Ua,y(o("input",{type:"text",placeholder:"Search Unsplash for photos","onUpdate:modelValue":e[7]||(e[7]=c=>n.searchKey=c)},null,512),[[x,n.searchKey,void 0,{lazy:!0}],[i,400]]),qa,(d(!0),l(D,null,w(n.searchKeywords,c=>(d(),l("button",{class:"keyword",key:c,onClick:u=>n.searchKey=c},_(c),9,La))),128)),Ga,o("div",{class:"search-photos-container",style:h({gridTemplateColumns:n.searchKey?"1fr 1fr":"1fr 1fr 1fr"})},[(d(!0),l(D,null,w(n.searchPhotos,c=>(d(),l("img",{key:c,src:c,onClick:k(u=>s.setTaskPhoto(c),["stop"])},null,8,Ha))),128))],4)])):m("",!0)])}var _e=f(ca,[["render",Ra]]);const ja={data(){return{dueDate:{dueDate:null,isComplete:!1}}},created(){},methods:{setDate(){this.$emit("date-set",Q({},this.dueDate))},removeDate(){this.$emit("remove-date")}},computed:{},components:{Datepicker:Be}},Xa={class:"dates-menu"},Ya={class:"dates-menu-header"},Ja=o("h3",{class:"menu-title"},"Dates",-1),Va=o("hr",null,null,-1),Za={class:"main"};function Wa(t,e,r,a,n,s){const i=g("Datepicker");return d(),l("section",Xa,[o("div",Ya,[Ja,o("span",{class:"menu-exit",onClick:e[0]||(e[0]=(...c)=>t.closeAction&&t.closeAction(...c))})]),Va,o("div",Za,[C(i,{menuClassName:"date-picker",modelValue:n.dueDate.dueDate,"onUpdate:modelValue":e[1]||(e[1]=c=>n.dueDate.dueDate=c),inline:"",autoApply:"",enableTimePicker:!1},null,8,["modelValue"]),o("button",{class:"save-btn",onClick:e[2]||(e[2]=(...c)=>s.setDate&&s.setDate(...c))},"Save"),o("button",{class:"remove-btn",onClick:e[3]||(e[3]=(...c)=>s.removeDate&&s.removeDate(...c))},"Remove")]),P(" "+_(n.dueDate.date),1)])}var ke=f(ja,[["render",Wa]]);const Ka={props:{members:Array,taskMembers:Array},data(){return{filterTxt:""}},created(){},methods:{closeAction(t){this.$emit("close-action",t)},addMemberToTask(t){this.$emit("add-member",t)}},computed:{filteredMembers(){if(!this.filterTxt)return this.members;const t=new RegExp(this.filterTxt,"i");return this.members.filter(r=>t.test(r.username))}},components:{avatarProfile:R}},ei={class:"members-menu"},ti={class:"members-menu-header"},si=o("h3",{class:"menu-title"},"Members",-1),oi=o("hr",null,null,-1),ri=o("h4",null,"Board members",-1),ni={class:"members-container"},ai=["onClick"],ii={class:"content-container"},di={class:"member-username"},li={key:0,class:"icon checkmark-icon"};function ci(t,e,r,a,n,s){const i=g("avatar-profile"),c=$("debounce");return d(),l("section",ei,[o("div",ti,[si,o("span",{class:"icon members-menu-exit",onClick:e[0]||(e[0]=(...u)=>s.closeAction&&s.closeAction(...u))})]),oi,y(o("input",{type:"text",placeholder:"Search members","onUpdate:modelValue":e[1]||(e[1]=u=>n.filterTxt=u)},null,512),[[x,n.filterTxt,void 0,{lazy:!0}],[c,400]]),ri,o("div",ni,[s.filteredMembers?(d(!0),l(D,{key:0},w(s.filteredMembers,u=>{var p;return d(),l("div",{key:u._id,class:"member",onClick:b=>s.addMemberToTask(u._id)},[o("div",ii,[C(i,{class:"member-profile",username:u.username,imgURL:u.imgUrl},null,8,["username","imgURL"]),o("span",di,_(u.username),1)]),(p=r.taskMembers)!=null&&p.includes(u._id)?(d(),l("span",li)):m("",!0)],8,ai)}),128)):m("",!0)])])}var ve=f(Ka,[["render",ci]]),ui="/assets/headerIcon.808020f6.png";const hi={props:{task:Object,pos:Object},components:{labelMenu:ge,coverMenu:_e,datesMenu:ke,membersMenu:ve},created(){this.taskToEdit=Q({},this.task)},data(){return{taskToEdit:null,taskDistFromBottom:window.screen.height-this.pos.y-382,menuDivSize:550,isLabelMenuOpen:!1,isCoverMenuOpen:!1,isDatesMenuOpen:!1,isMembersMenuOpen:!1,isMenuChangeDirection:!1}},methods:{closeActions(t){t.stopPropagation(),t.preventDefault(),this.isLabelMenuOpen=!1,this.isCoverMenuOpen=!1,this.isDatesMenuOpen=!1,this.isMembersMenuOpen=!1},closeQuickEdit(){this.$emit("close-quick-edit")},getLabel(t){return this.$store.getters.currBoard.labels.find(a=>a._id===t)},async onSetLabel(t){try{this.taskToEdit.labelIds=t;const e=this.$route.params.boardId;this.$store.dispatch({type:"saveTask",task:JSON.parse(JSON.stringify(this.taskToEdit)),boardId:e})}catch(e){console.log(e)}},onAddLabel(t){const e=this.$route.params.boardId;this.$store.dispatch({type:"addLabel",label:t,boardId:e})},onDeleteLabel(t){const e=this.$route.params.boardId;this.$store.dispatch({type:"deleteLabel",labelId:t,task:Q({},this.taskToEdit),boardId:e})},onSetColor(t){delete this.taskToEdit.style.photo,this.taskToEdit.style.color=t;const e=this.$route.params.boardId;this.$store.dispatch({type:"saveTask",task:JSON.parse(JSON.stringify(this.taskToEdit)),boardId:e})},onSetCoverSize(t){this.taskToEdit.style.isBackground=t==="full";const e=this.$route.params.boardId;this.$store.dispatch({type:"saveTask",task:JSON.parse(JSON.stringify(this.taskToEdit)),boardId:e})},setCoverStyle(t,e){this.coverBcg=t,this.coverPhoto=e},async onSetPhoto(t){delete this.taskToEdit.style.color,this.taskToEdit.style.photo=t,t||await this.onSetCoverSize("half");const e=this.$route.params.boardId;await this.$store.dispatch({type:"saveTask",task:JSON.parse(JSON.stringify(this.taskToEdit)),boardId:e}),this.coverPhoto=t},setDate(t){t.dueDate=Date.parse(t.dueDate.toString()),this.taskToEdit.dueDate.dueDate=t.dueDate,this.$store.dispatch({type:"setDate",task:JSON.parse(JSON.stringify(this.taskToEdit)),dueDate:t})},async archive(){const t=this.$route.params.boardId;await this.$store.dispatch({type:"deleteTask",taskId:this.taskToEdit._id,boardId:t})},async saveTaskTitle(){const t=this.$route.params.boardId;this.taskToEdit.title=this.taskToEdit.title.trim(),this.$store.dispatch({type:"saveTask",task:JSON.parse(JSON.stringify(this.taskToEdit)),boardId:t}),this.$emit("close-quick-edit")}},computed:{coverColor(){return`background-color: ${this.taskToEdit.style.color}`},coverPhoto(){return`background-image: url(${this.taskToEdit.style.photo});`},menuStyle(){return this.isMenuChangeDirection?"transform: translateY(-40%);overflow-y: auto;max-height: 400px;right: 0.4%;overflow-x: hidden;":"transform: translateY(-40%);overflow-y: auto;max-height: 400px;margin-left:8px;overflow-x: hidden;"},labels(){return this.$store.getters.boardLabels},boardId(){return this.$route.params.boardId},labelStyle(){return t=>{const e=this.getLabel(t);return`background-color: ${e==null?void 0:e.color}`}},checklistDisplay(){var t=0,e=0;return this.taskToEdit.checklists.forEach(r=>{r.todos.forEach(a=>{t++,a.isDone&&e++})}),`${e}/${t}`},taskDueDate(){var c,u;if(!((c=this.taskToEdit.dueDate)!=null&&c.dueDate))return;const t=new Date((u=this.taskToEdit.dueDate)==null?void 0:u.dueDate),r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],a=t.getDate(),n=t.getFullYear(),i=new Date(Date.now()).getFullYear();return n!==i?`${r} ${a}, ${n}`:`${r} ${a}`},taskPos(){var t=this.pos.y+this.taskDistFromBottom;return this.task.style.photo?t-=150:this.taskToEdit.style.color&&(t-=32),this.taskDistFromBottom>0?`left:${this.pos.x}px;top:${this.pos.y}px`:`left:${this.pos.x}px;top:${t}px`},menuPosY(){let t=430;this.taskToEdit.style.color?t-=32:this.taskToEdit.style.photo&&(t-=150);let e=window.screen.height-this.pos.y-t;return this.taskDistFromBottom<0&&(e-=this.taskDistFromBottom),e<0?`top:${e}px`:"top:0px"},menuPosX(){return document.body.clientWidth<600?this.pos.x>document.body.clientWidth/2?"left: -250px":"left: 100%":document.body.clientWidth-this.pos.x-this.menuDivSize<0?"left: -250px":"left: 100%"},menuOptionPos(){if(document.body.clientWidth<600)return this.pos.x>document.body.clientWidth/2?"left-menu":"right-menu";let t=document.body.clientWidth-this.pos.x-this.menuDivSize;return this.isMenuChangeDirection=t<0,t<0?"left-menu":"right-menu"},modalDirection(){return this.isMenuChangeDirection?"right: 0.4%;transform: translateY(-25%);":" margin-left:8px;transform: translateY(-25%);"}}},mi={class:"quick-edit-page"},bi={class:"quick-edit-task"},pi={class:"task-details-container"},gi={class:"task-labels"},_i={class:"task-badges"},ki={class:"badges-container"},vi={key:0,class:"date-badge"},yi=o("span",{class:"date-icon"},null,-1),fi={class:"date"},Ci={key:1,class:"check-list-badge"},Di=o("span",{class:"check-list-icon"},null,-1),wi={class:"check-list-text"},Ti=o("div",{class:"task-members"},[o("div",{class:"member"},[o("img",{class:"member-img",src:ui,alt:""})])],-1),Bi=o("span",{class:"open-card-icon icon"},null,-1),Ai=o("span",{class:"edit-option-text"},"Open card",-1),Ii=o("span",{class:"edit-labels-icon icon"},null,-1),xi=o("span",{class:"edit-option-text"},"Edit labels",-1),Ei=[Ii,xi],Ni=o("span",{class:"change-members-icon icon"},null,-1),Mi=o("span",{class:"edit-option-text"},"Change members",-1),zi=[Ni,Mi],Oi=o("span",{class:"change-cover-icon icon"},null,-1),$i=o("span",{class:"edit-option-text"},"Change cover",-1),Pi=[Oi,$i],Fi=o("span",{class:"move-icon icon"},null,-1),Qi=o("span",{class:"edit-option-text"},"Move",-1),Si=[Fi,Qi],Ui=o("span",{class:"copy-icon icon"},null,-1),qi=o("span",{class:"edit-option-text"},"Copy",-1),Li=[Ui,qi],Gi=o("span",{class:"edit-dates-icon icon"},null,-1),Hi=o("span",{class:"edit-option-text"},"Edit dates",-1),Ri=[Gi,Hi],ji=o("span",{class:"archive-icon icon"},null,-1),Xi=o("span",{class:"edit-option-text"},"Archive",-1),Yi=[ji,Xi];function Ji(t,e,r,a,n,s){var z;const i=g("router-link"),c=g("label-menu"),u=g("members-menu"),p=g("cover-menu"),b=g("dates-menu"),M=$("clickoutside");return d(),l("div",mi,[o("span",{class:"close-quick-edit",onClick:e[0]||(e[0]=(...B)=>s.closeQuickEdit&&s.closeQuickEdit(...B))}),y((d(),l("div",{class:"quick-edit-card-container",style:h(s.taskPos)},[o("div",bi,[n.taskToEdit.style.photo?(d(),l("div",{key:0,class:"task-cover-img",style:h(s.coverPhoto)},null,4)):m("",!0),n.taskToEdit.style.color?(d(),l("div",{key:1,class:"task-cover-color",style:h(s.coverColor)},null,4)):m("",!0),o("div",pi,[o("div",gi,[(d(!0),l(D,null,w(n.taskToEdit.labelIds,B=>(d(),l("span",{class:"label",key:B,style:h(s.labelStyle(B))},null,4))),128))]),y(o("textarea",{class:"task-text",dir:"auto","onUpdate:modelValue":e[1]||(e[1]=B=>n.taskToEdit.title=B)},null,512),[[x,n.taskToEdit.title]]),o("div",_i,[o("span",ki,[(z=n.taskToEdit.dueDate)!=null&&z.dueDate?(d(),l("div",vi,[yi,o("span",fi,_(s.taskDueDate),1)])):m("",!0),n.taskToEdit.checklists?(d(),l("div",Ci,[Di,o("span",wi,_(s.checklistDisplay),1)])):m("",!0)])]),Ti])]),o("input",{class:"save-btn",type:"submit",value:"Save",onClick:e[2]||(e[2]=(...B)=>s.saveTaskTitle&&s.saveTaskTitle(...B))}),o("div",{class:"quick-edit-options",style:h([s.menuPosY,s.menuPosX])},[C(i,{to:"/board/"+s.boardId+"/card/"+r.task._id,class:I(["edit-option open-card",s.menuOptionPos]),onClick:s.closeQuickEdit},{default:O(()=>[Bi,Ai]),_:1},8,["to","class","onClick"]),o("div",{onClick:e[3]||(e[3]=B=>n.isLabelMenuOpen=!0),class:I(["edit-option edit-labels",s.menuOptionPos])},Ei,2),n.isLabelMenuOpen?(d(),E(c,{key:0,style:h(s.menuStyle),labels:s.labels,task:n.taskToEdit,onLabelAdd:s.onAddLabel,onLabelSet:s.onSetLabel,onLabelDelete:s.onDeleteLabel,onCloseAction:s.closeActions,class:"label-menu"},null,8,["style","labels","task","onLabelAdd","onLabelSet","onLabelDelete","onCloseAction"])):m("",!0),o("div",{onClick:e[4]||(e[4]=B=>n.isMembersMenuOpen=!0),class:I(["edit-option change-members",s.menuOptionPos])},zi,2),n.isMembersMenuOpen?(d(),E(u,{key:1,class:"members-menu",style:h(s.menuStyle),onCloseAction:s.closeActions},null,8,["style","onCloseAction"])):m("",!0),o("div",{onClick:e[5]||(e[5]=B=>n.isCoverMenuOpen=!0),class:I(["edit-option change-cover",s.menuOptionPos])},Pi,2),n.isCoverMenuOpen?(d(),E(p,{key:2,class:"cover-menu",style:h(s.menuStyle),onColorSet:s.onSetColor,onPhotoSet:s.onSetPhoto,onCoverSizeSet:s.onSetCoverSize,onCloseAction:s.closeActions,task:n.taskToEdit,attachments:n.taskToEdit.attachments},null,8,["style","onColorSet","onPhotoSet","onCoverSizeSet","onCloseAction","task","attachments"])):m("",!0),o("div",{class:I(["edit-option move",s.menuOptionPos])},Si,2),o("div",{class:I(["edit-option copy",s.menuOptionPos])},Li,2),o("div",{onClick:e[6]||(e[6]=B=>n.isDatesMenuOpen=!0),class:I(["edit-option edit-dates",s.menuOptionPos])},Ri,2),n.isDatesMenuOpen?(d(),E(b,{key:3,onDateSet:s.setDate,onCloseAction:s.closeActions,style:h(s.modalDirection)},null,8,["onDateSet","onCloseAction","style"])):m("",!0),o("div",{onClick:e[7]||(e[7]=(...B)=>s.archive&&s.archive(...B)),class:I(["edit-option archive",s.menuOptionPos])},Yi,2)],4)],4)),[[M,s.closeQuickEdit]])])}var ye=f(hi,[["render",Ji]]);const Vi={props:{task:Object,boardId:String},components:{labelPreview:bn,badgePreview:Fn,quickEdit:ye},created(){},data(){return{isQuickEditOpen:!1,quickEditPos:null}},methods:{openQuickEdit(){const t=this.$refs.quickEditBtn.getBoundingClientRect().top,e=this.$refs.quickEditBtn.getBoundingClientRect().right-256;this.quickEditPos={x:e,y:t},this.isQuickEditOpen=!0},closeQuickEdit(){this.isQuickEditOpen=!1},navigateToTask(){this.$router.push(`/board/${this.boardId}/card/${this.task._id}`)}},computed:{isBackgroundImage(){return this.task.style.photo&&this.task.style.isBackground?"text-bold":""},cover(){if(this.task.style.color)return`background-color: ${this.task.style.color}; height: 34px`;if(this.task.style.photo)return`background-image: url('${this.task.style.photo}'); min-height: 260px; background-size: cover`},taskCover(){return!this.task.style.isBackground||!this.task.style.photo&&!this.task.style.color?"":"task-bg-cover"},taskBg(){if(!!this.task.style.isBackground){if(this.task.style.photo)return`background-image: url('${this.task.style.photo}'); height: 260px;display:flex;`;if(this.task.style.color)return`background-color: ${this.task.style.color}; min-height: 56px;display:flex;`}}},unmounted(){}},Zi={class:"main-task-container"},Wi={key:0,class:"task-labels"},Ki={key:1,class:"text-shadowing"};function ed(t,e,r,a,n,s){const i=g("label-preview"),c=g("badge-preview"),u=g("quickEdit");return d(),l("section",null,[o("div",Zi,[o("span",{class:"task-preview-container",onClick:e[1]||(e[1]=k((...p)=>s.navigateToTask&&s.navigateToTask(...p),["stop","prevent"]))},[r.task.style.color&&!r.task.style.isBackground||r.task.style.photo&&!r.task.style.isBackground?(d(),l("div",{key:0,class:"task-cover",style:h(s.cover)},null,4)):m("",!0),o("div",{class:I(["task-preview",s.taskCover]),style:h(s.taskBg)},[r.task.style.isBackground?m("",!0):(d(),l("div",Wi,[(d(!0),l(D,null,w(r.task.labelIds,p=>(d(),E(i,{label:p,key:p},null,8,["label"]))),128))])),r.task.style.photo&&r.task.style.isBackground?(d(),l("div",Ki)):m("",!0),o("span",{class:I(["task-title",s.isBackgroundImage])},_(r.task.title),3),C(c,{task:r.task,class:"task-badges"},null,8,["task"]),o("span",{onClick:e[0]||(e[0]=k((...p)=>s.openQuickEdit&&s.openQuickEdit(...p),["stop","prevent"])),class:"task-quick-edit",ref:"quickEditBtn"},null,512)],6)]),n.isQuickEditOpen?(d(),E(u,{key:0,task:r.task,pos:n.quickEditPos,onOpenQuickEdit:s.openQuickEdit,onCloseQuickEdit:s.closeQuickEdit},null,8,["task","pos","onOpenQuickEdit","onCloseQuickEdit"])):m("",!0)])])}var td=f(Vi,[["render",ed]]);const sd={props:{group:Object,boardId:String},components:{taskPreview:td,Container:ae,Draggable:ie},created(){},data(){return{isAddTask:!1,isEditGroupTitle:!1,taskToAdd:{title:"",groupId:this.group._id},isExtrasOpen:!1}},methods:{toggleAddTask(){this.isAddTask=!this.isAddTask},async addTask(){!this.taskToAdd.title||(await this.$emit("task-added",this.taskToAdd),this.taskToAdd={title:"",groupId:this.group._id})},toggleEditGroupTitle(){this.isEditGroupTitle=!this.isEditGroupTitle,this.isEditGroupTitle&&setTimeout(()=>{this.$refs.editGroupTitle.focus()},100)},saveGroupTitle(){this.$emit("group-title-changed",this.groupToEdit),this.isEditGroupTitle=!this.isEditGroupTitle},async onDrop(t){t.addedIndex===null&&t.removedIndex===null||(this.group.tasks=this.applyDrag(this.group.tasks,t),t.payload._id,await this.$store.dispatch({type:"editGroup",groupToEdit:this.group,boardId:this.boardId}),this.$store.dispatch({type:"saveBoard",board:this.$store.getters.currBoard}))},applyDrag(t,e){const{removedIndex:r,addedIndex:a,payload:n}=e;if(r===null&&a===null)return t;const s=[...t];let i=n;return r!==null&&(i=s.splice(r,1)[0]),a!==null&&s.splice(a,0,i),s},getChildPayload(t){return this.group.tasks[t]},toggleExtrasMenu(){this.isExtrasOpen=!this.isExtrasOpen},deleteGroup(){this.$store.dispatch({type:"deleteGroup",groupId:this.group._id,boardId:this.boardId})}},computed:{addTaskCondition(){return this.isAddTask?"add-task-active":""},groupToEdit(){return Q({},this.group)}}},od={class:"group-container"},rd={class:"group"},nd={class:"group-header column-drag-handle"},ad=o("span",{class:"dots-icon"},"...",-1),id=[ad],dd={key:0,class:"group-extras-menu"},ld=o("h3",{class:"menu-title"},"List actions",-1),cd=o("span",{class:"extras-exit"},null,-1),ud=o("hr",null,null,-1),hd={class:"extras-btns"},md=o("button",{class:"add-task-btn"},[o("span",null,"Add card...")],-1),bd=o("button",{class:"copy-group-btn"},[o("span",null,"Copy list...")],-1),pd=o("button",{class:"sort-by-btn"},[o("span",null,"Sort by...")],-1),gd=o("span",null,"Archive this list",-1),_d=[gd],kd={class:"group-tasks"},vd=o("span",null,"+",-1),yd=P(" Add a card "),fd=[vd,yd],Cd={key:1,class:"add-task-active"},Dd={class:"textarea-container"},wd={class:"add-task-btns"},Td=o("span",{class:"x-icon"},null,-1),Bd=[Td];function Ad(t,e,r,a,n,s){const i=g("task-preview"),c=g("Draggable"),u=g("Container"),p=$("clickoutside");return d(),l("section",null,[o("div",od,[o("div",rd,[o("div",nd,[n.isEditGroupTitle?y((d(),l("input",{key:1,onKeyup:e[1]||(e[1]=W((...b)=>s.saveGroupTitle&&s.saveGroupTitle(...b),["enter"])),ref:"editGroupTitle",type:"text","onUpdate:modelValue":e[2]||(e[2]=b=>s.groupToEdit.title=b)},null,544)),[[p,s.saveGroupTitle],[x,s.groupToEdit.title]]):(d(),l("h2",{key:0,onClick:e[0]||(e[0]=(...b)=>s.toggleEditGroupTitle&&s.toggleEditGroupTitle(...b)),class:"group-title"},_(r.group.title),1)),o("div",{onClick:e[3]||(e[3]=(...b)=>s.toggleExtrasMenu&&s.toggleExtrasMenu(...b)),class:"group-extras"},id)]),n.isExtrasOpen?y((d(),l("div",dd,[ld,cd,ud,o("div",hd,[md,bd,pd,o("button",{onClick:e[4]||(e[4]=(...b)=>s.deleteGroup&&s.deleteGroup(...b)),class:"archive-group-btn"},_d)])])),[[p,s.toggleExtrasMenu]]):m("",!0),o("div",kd,[C(u,{"group-name":"1","get-child-payload":s.getChildPayload,orientation:"vertical",onDrop:s.onDrop,class:"drag-task-container"},{default:O(()=>[(d(!0),l(D,null,w(r.group.tasks,b=>(d(),E(c,{key:b._id},{default:O(()=>[C(i,{task:b,boardId:r.boardId},null,8,["task","boardId"])]),_:2},1024))),128))]),_:1},8,["get-child-payload","onDrop"])]),o("div",{class:I(["add-task",s.addTaskCondition])},[n.isAddTask?y((d(),l("div",Cd,[o("div",Dd,[y(o("textarea",{"onUpdate:modelValue":e[6]||(e[6]=b=>n.taskToAdd.title=b),ref:"addTask",placeholder:"Enter a title for this card..."},null,512),[[x,n.taskToAdd.title]])]),o("div",wd,[o("button",{onMouseup:e[7]||(e[7]=(...b)=>s.addTask&&s.addTask(...b)),class:"add-task-btn"},"Add Card",32),o("button",{onClick:e[8]||(e[8]=b=>n.isAddTask=!1),class:"cancel-add-task-btn"},Bd)])])),[[p,s.toggleAddTask]]):(d(),l("div",{key:0,onClick:e[5]||(e[5]=(...b)=>s.toggleAddTask&&s.toggleAddTask(...b)),class:"add-task-unactive"},fd))],2)])])])}var Id=f(sd,[["render",Ad]]);const xd={props:{board:Object},components:{},async created(){const t=await H.loadDefaultPhotos();this.photos=t},data(){return{currNav:"Menu",photos:null,searchKey:"",searchPhotos:[]}},methods:{setCurrNav(t){this.currNav=t},changeBoardBgc(t){this.$emit("change-board-bgc",t),this.$store.commit({type:"changeHeaderBgc",bgc:t})},closeMenu(){this.$emit("close-menu")},changeBoardBgp(t){this.$emit("change-board-bgp",t),this.$store.commit({type:"changeHeaderBgc",bgc:"#026aa7"})},async getPhotosBySearch(){const t=await H.getPhotosByKeyword(this.searchKey);this.searchPhotos=t}},computed:{displayBg(){if(!!this.board)return this.board.style.photo?`background-image: url(${this.board.style.photo})`:`background-color: ${this.board.style.backgroundColor}`},prevPage(){switch(this.currNav){case"Colors":return"Change background";case"Photos":return"Change background";case"Change background":return"Menu"}},backPos(){return this.currNav==="Menu"?"transform: translateX(-50px)":"transform: translateX(0)"},changeBgPos(){return this.currNav==="Change background"?"transform: translateX(0px)":"transform: translateX(600px); position: absolute"},colorsPos(){return this.currNav==="Colors"?"transform: translateX(0px)":"transform: translateX(600px); position: absolute"},photosPos(){return this.currNav==="Photos"?"transform: translateX(0px)":"transform: translateX(600px); position: absolute"}},unmounted(){},watch:{searchKey:{async handler(){this.searchKey||(this.searchKey="nature"),this.getPhotosBySearch()},immediate:!0}}},Ed={class:"board-nav"},Nd={class:"title"},Md={class:"close-menu"},zd=o("span",{class:"back-icon"},null,-1),Od=[zd],$d=o("hr",{class:"menu-header-divider"},null,-1),Pd={class:"main-menu"},Fd={key:0,class:"menu-home"},Qd=o("h4",null,"Change background",-1),Sd=o("div",{class:"photos-card"},null,-1),Ud=o("div",{class:"title"},"Photos",-1),qd=[Sd,Ud],Ld=o("div",{class:"colors-card"},null,-1),Gd=o("div",{class:"title"},"Colors",-1),Hd=[Ld,Gd],Rd=o("span",{class:"search-icon"},[o("svg",{class:"magnifying-glass",width:"18",height:"18",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.5 18C6.35786 18 3 14.6421 3 10.5C3 6.35786 6.35786 3 10.5 3C14.6421 3 18 6.35786 18 10.5C18 12.2269 17.4164 13.8175 16.4356 15.0852L20.3769 19.0953C20.764 19.4892 20.7586 20.1223 20.3647 20.5095C19.9708 20.8966 19.3376 20.8911 18.9505 20.4972L15.0129 16.4909C13.7572 17.4383 12.1942 18 10.5 18ZM16 10.5C16 13.5376 13.5376 16 10.5 16C7.46243 16 5 13.5376 5 10.5C5 7.46243 7.46243 5 10.5 5C13.5376 5 16 7.46243 16 10.5Z",fill:"currentColor"})])],-1),jd={class:"photos"},Xd=["onClick"];function Yd(t,e,r,a,n,s){const i=$("debounce");return d(),l("nav",Ed,[o("header",null,[o("div",Nd,[o("h3",null,_(n.currNav||"Menu"),1)]),o("div",Md,[o("span",{onClick:e[0]||(e[0]=(...c)=>s.closeMenu&&s.closeMenu(...c)),class:"close-icon"})]),o("div",{style:h(s.backPos),onClick:e[1]||(e[1]=c=>n.currNav=s.prevPage),class:"back-menu"},Od,4),$d]),o("div",Pd,[n.currNav==="Menu"?(d(),l("div",Fd,[o("div",{onClick:e[2]||(e[2]=c=>n.currNav="Change background"),class:"change-bg"},[o("span",{class:"bg-display",style:h(s.displayBg)},null,4),Qd])])):m("",!0),o("div",{class:"change-bg",style:h(s.changeBgPos)},[o("div",{onClick:e[3]||(e[3]=c=>s.setCurrNav("Photos")),class:"photos-card-container"},qd),o("div",{onClick:e[4]||(e[4]=c=>s.setCurrNav("Colors")),class:"colors-card-container"},Hd)],4),o("div",{style:h(s.colorsPos),class:"bg-colors"},[o("div",{onClick:e[5]||(e[5]=c=>s.changeBoardBgc("#0079bf")),class:"color-card blue-card"}),o("div",{onClick:e[6]||(e[6]=c=>s.changeBoardBgc("#d29034")),class:"color-card orange-card"}),o("div",{onClick:e[7]||(e[7]=c=>s.changeBoardBgc("#529739")),class:"color-card green-card"}),o("div",{onClick:e[8]||(e[8]=c=>s.changeBoardBgc("#af4632")),class:"color-card red-card"}),o("div",{onClick:e[9]||(e[9]=c=>s.changeBoardBgc("#89609e")),class:"color-card purple-card"}),o("div",{onClick:e[10]||(e[10]=c=>s.changeBoardBgc("#cd5a91")),class:"color-card pink-card"}),o("div",{onClick:e[11]||(e[11]=c=>s.changeBoardBgc("#4abf6a")),class:"color-card lightgreen-card"}),o("div",{onClick:e[12]||(e[12]=c=>s.changeBoardBgc("#04adcb")),class:"color-card lightblue-card"}),o("div",{onClick:e[13]||(e[13]=c=>s.changeBoardBgc("#838c90")),class:"color-card gray-card"})],4),o("div",{style:h(s.photosPos),class:"bg-photos"},[y(o("input",{type:"text",placeholder:"Photos","onUpdate:modelValue":e[14]||(e[14]=c=>n.searchKey=c)},null,512),[[x,n.searchKey,void 0,{lazy:!0}],[i,400]]),Rd,o("div",jd,[(d(!0),l(D,null,w(n.searchPhotos,c=>(d(),l("div",{class:"photo-card",style:h("background-image: url("+c+")"),onClick:u=>s.changeBoardBgp(c)},null,12,Xd))),256))])],4)])])}var Jd=f(xd,[["render",Yd]]);const Vd={props:{clickPos:Object},components:{},created(){},data(){return{userToAdd:"",btnWidth:71,btnHeight:35,usersToAdd:[],isSearching:!1}},methods:{searchForUsers(){this.$store.dispatch({type:"searchForUsers",searchInput:this.userToAdd})},addMember(t){this.usersToAdd.some(e=>e._id===t._id)||this.usersToAdd.push(t)},openSearching(){this.isSearching=!0},closeSearching(){this.isSearching=!1},addCheckedUsers(){this.$store.dispatch({type:"addCheckedUsers",users:this.usersToAdd}),this.closeInvite()},closeInvite(){this.$emit("close-invite")},removeUserFromList(t){const e=this.usersToAdd.findIndex(r=>r._id===t);this.usersToAdd.splice(e,1)}},computed:{board(){return this.$store.getters.currBoard},clickedPos(){return`left:${this.clickPos.x-this.btnWidth}px;top:${this.clickPos.y+this.btnHeight}px`},isMembersArr(){return!this.usersToAdd.length},isDisabled(){return this.usersToAdd.length?"btn-enabled":"btn-disabled"},results(){return this.$store.getters.searchedUsers}},watch:{userToAdd:{handler(){this.searchForUsers()}}}},Zd=o("header",null,[o("h4",{class:"menu-title"},"Invite to board"),o("span",{class:"x-icon"})],-1),Wd=o("hr",null,null,-1),Kd={class:"invite-body"},el={key:0,class:"users-to-add"},tl={class:"chosen-user"},sl=["onClick"],ol=["disabled"],rl={key:0,class:"no-users-found"},nl={class:"member-container"},al=["onClick"],il=["src"];function dl(t,e,r,a,n,s){var u,p;const i=$("debounce"),c=$("clickoutside");return y((d(),l("section",{class:"add-member-container",style:h(s.clickedPos)},[Zd,Wd,o("div",Kd,[y(o("input",{type:"text",placeholder:"Email address or name","onUpdate:modelValue":e[0]||(e[0]=b=>n.userToAdd=b),onInput:e[1]||(e[1]=(...b)=>s.openSearching&&s.openSearching(...b)),onClick:e[2]||(e[2]=(...b)=>s.openSearching&&s.openSearching(...b))},null,544),[[x,n.userToAdd,void 0,{lazy:!0}],[i,400]]),n.usersToAdd.length?(d(),l("div",el,[(d(!0),l(D,null,w(n.usersToAdd,b=>(d(),l("div",tl,[o("span",null,_(b.username),1),o("span",{onClick:M=>s.removeUserFromList(b._id),class:"x-icon"},null,8,sl)]))),256))])):m("",!0),o("button",{class:I(["add-member-btn",s.isDisabled]),disabled:s.isMembersArr,onClick:e[3]||(e[3]=(...b)=>s.addCheckedUsers&&s.addCheckedUsers(...b))},"Add member"+_(n.usersToAdd.length>1?"s":""),11,ol),n.isSearching?y((d(),l("div",{key:1,class:"search-results",style:h((u=s.results)!=null&&u.length?"":"height: 70px")},[(p=s.results)!=null&&p.length?m("",!0):(d(),l("div",rl,"Looks like that person isn't a Tablero member yet.")),(d(!0),l(D,null,w(s.results,b=>(d(),l("div",nl,[o("div",{onClick:M=>s.addMember(b)},[o("img",{src:b.imgUrl,alt:""},null,8,il),o("span",null,_(b.username),1)],8,al)]))),256))],4)),[[c,s.closeSearching]]):m("",!0)])],4)),[[c,s.closeInvite]])}var ll=f(Vd,[["render",dl]]);const cl={components:{boardHeader:un,boardGroup:Id,boardMenu:Jd,Container:ae,Draggable:ie,quickEdit:ye,inviteMembers:ll},created(){this.$store.dispatch("loadBoards");const t=this.$route.params.boardId;this.$store.commit({type:"setCurrBoardId",boardId:t}),q.emit("board-entered",t),q.on("update-board",this.updateBoard)},data(){return{isAddGroup:!1,groupToAdd:{title:""},isMenuOpen:!1,isAddMemberOpen:!1,invitePos:null,menuDisplay:"display: none"}},methods:{updateBoard(){this.$store.dispatch("loadBoards")},saveBoard(t){this.$store.dispatch({type:"saveBoard",board:t})},addGroup(){!this.groupToAdd.title||(this.$store.dispatch({type:"addGroup",boardId:this.board._id,groupToAdd:this.groupToAdd}),this.groupToAdd={title:""})},toggleAddGroup(){this.isAddGroup?setTimeout(()=>{this.isAddGroup=!1},100):(this.isAddGroup=!0,setTimeout(()=>{this.$refs.addGroup.focus()},100))},async addTask(t){await this.$store.dispatch({type:"addTask",task:t,boardId:this.board._id})},updateGroup(t){this.$store.dispatch({type:"editGroup",groupToEdit:t,boardId:this.board._id})},openMenu(){this.menuDisplay="display:block",setTimeout(()=>{this.isMenuOpen=!0},10)},changeBoardBgc(t){this.$store.dispatch({type:"changeBoardBgc",bgc:t,boardId:this.board._id})},changeBoardBgp(t){this.$store.dispatch({type:"changeBoardBgp",url:t,boardId:this.board._id})},closeMenu(){this.isMenuOpen=!1,setTimeout(()=>{this.menuDisplay="display:none"},150)},onDrop(t){console.log(t),this.board.groups=this.applyDrag(this.board.groups,t),this.$store.dispatch({type:"saveBoard",board:this.board})},applyDrag(t,e){console.log(t,e);const{removedIndex:r,addedIndex:a,payload:n}=e;if(r===null&&a===null)return t;const s=[...t];let i=n;return r!==null&&(i=s.splice(r,1)[0]),a!==null&&s.splice(a,0,i),s},toggleInvite(t){this.invitePos=t,this.isAddMemberOpen=!this.isAddMemberOpen}},computed:{board(){return this.$store.getters.currBoard},addGroupCondition(){return this.isAddGroup?"add-group-active":""},boardBg(){if(!(!this.board.style.backgroundColor&&!this.board.style.photo))return this.board.style.backgroundColor?`background-color: ${this.board.style.backgroundColor}`:`background-image: url('${this.board.style.photo}')`},menuStatus(){return this.isMenuOpen?"menu-open":"menu-close"},bgc(){return this.$store.getters.boardBgc},textColor(){if(!!this.bgc)return this.bgc.isLight?"color: #172b4d":"color: white"},btnBgc(){if(!!this.bgc)return this.bgc.isLight?"background-color: #0000001a":"background-color: #ffffff3d"},linear(){if(!(!this.board.style.backgroundColor&&!this.board.style.photo))return this.board.style.backgroundColor?"":this.bgc.isLight?"background: linear-gradient(rgb(254 245 245 / 24%) 0px, rgb(255 255 255 / 24%) 48px, rgb(255 254 254 / 0%) 80px, rgb(248 248 248 / 0%))":"background: linear-gradient(180deg, #0000003d 0, #0000003d 48px, #0000 80px, #0000);"}},watch:{board:{async handler(){if(this.board.style.photo){const e=await new de().getColorAsync(this.board.style.photo);this.$store.commit({type:"changeHeaderBgc",bgc:e.rgb,isLight:e.isLight});return}else this.$store.commit({type:"changeHeaderBgc",bgc:this.board.style.backgroundColor})}}},unmounted(){}},ul={key:1},hl={class:"add-group-btns"},ml=o("span",{class:"x-icon"},null,-1),bl=[ml];function pl(t,e,r,a,n,s){const i=g("board-header"),c=g("board-group"),u=g("Draggable"),p=g("Container"),b=g("invite-members"),M=g("board-menu"),z=g("router-view"),B=$("clickoutside");return d(),l(D,null,[s.board?(d(),l("div",{key:0,class:"main-board",style:h(s.boardBg)},[o("header",null,[C(i,{onBoardTitleChanged:s.saveBoard,onOpenMenu:s.openMenu,onOpenInvite:s.toggleInvite},null,8,["onBoardTitleChanged","onOpenMenu","onOpenInvite"])]),o("div",{class:"groups-container",style:h(s.linear)},[s.board.groups.length?(d(),E(p,{key:0,orientation:"horizontal",onDrop:s.onDrop,class:"drag-container","drag-handle-selector":".column-drag-handle"},{default:O(()=>[(d(!0),l(D,null,w(s.board.groups,A=>(d(),E(u,{key:A._id},{default:O(()=>[C(c,{onGroupTitleChanged:s.updateGroup,onTaskAdded:s.addTask,group:A,boardId:s.board._id},null,8,["onGroupTitleChanged","onTaskAdded","group","boardId"])]),_:2},1024))),128))]),_:1},8,["onDrop"])):m("",!0),o("div",{class:I(["add-group",s.addGroupCondition]),style:h(n.isAddGroup?"":s.btnBgc)},[n.isAddGroup?y((d(),l("div",ul,[y(o("input",{ref:"addGroup",type:"text","onUpdate:modelValue":e[1]||(e[1]=A=>n.groupToAdd.title=A),placeholder:"Enter list title...",onKeyup:e[2]||(e[2]=W((...A)=>s.addGroup&&s.addGroup(...A),["enter"]))},null,544),[[x,n.groupToAdd.title]]),o("div",hl,[o("button",{onClick:e[3]||(e[3]=(...A)=>s.addGroup&&s.addGroup(...A)),class:"add-group-btn"},"Add list"),o("button",{onClick:e[4]||(e[4]=(...A)=>s.toggleAddGroup&&s.toggleAddGroup(...A)),class:"cancel-add-group-btn"},bl)])])),[[B,s.toggleAddGroup]]):(d(),l("span",{key:0,style:h(s.textColor),onClick:e[0]||(e[0]=(...A)=>s.toggleAddGroup&&s.toggleAddGroup(...A))},"+ Add another list",4))],6)],4)],4)):m("",!0),n.isAddMemberOpen?(d(),E(b,{key:1,clickPos:n.invitePos,onCloseInvite:s.toggleInvite},null,8,["clickPos","onCloseInvite"])):m("",!0),C(M,{onChangeBoardBgc:s.changeBoardBgc,onChangeBoardBgp:s.changeBoardBgp,onCloseMenu:s.closeMenu,class:I(s.menuStatus),board:s.board,style:h(n.menuDisplay)},null,8,["onChangeBoardBgc","onChangeBoardBgp","onCloseMenu","class","board","style"]),C(z)],64)}var gl=f(cl,[["render",pl]]);const _l={props:{comment:Object,user:Object},data(){return{isEditing:!1,editTxt:this.comment.txt}},created(){},methods:{deleteComment(t){this.$emit("delete-comment",t)},saveComment(){this.$emit("save-comment",this.editTxt,this.comment._id),this.isEditing=!1}},computed:{commentTime(){return t=>{const r=Date.now()-t;if(r<60*1e3)return"Just now";if(r<60*60*1e3)return`${Math.round(r/6e4)} minutes ago`;if(r<60*60*24*1e3)return`${Math.round(r/36e5)} hours ago`;{const a=new Date(t).toString().split(" ");return a[0]+" "+a[1]+" "+a[2]+" "+a[3]}}}},components:{avatarProfile:R}},kl={class:"content"},vl={class:"comment-header"},yl={class:"comment-fullname"},fl={class:"comment-time"},Cl={class:"comment-txt"},Dl={key:0},wl={key:1,class:"comment-edit"},Tl={key:0,class:"comment-btns"},Bl=P("- ");function Al(t,e,r,a,n,s){var c,u,p,b,M,z,B;const i=g("avatar-profile");return d(),l("section",null,[C(i,{username:(u=(c=r.comment)==null?void 0:c.byMember)==null?void 0:u.username,imgURL:(p=r.comment)==null?void 0:p.byMember.imgUrl},null,8,["username","imgURL"]),o("div",kl,[o("div",vl,[o("span",yl,_((M=(b=r.comment)==null?void 0:b.byMember)==null?void 0:M.username),1),o("span",fl,_(s.commentTime((z=r.comment)==null?void 0:z.createdAt)),1)]),o("div",Cl,[n.isEditing?(d(),l("div",wl,[y(o("textarea",{"onUpdate:modelValue":e[0]||(e[0]=A=>n.editTxt=A)},null,512),[[x,n.editTxt]]),o("div",null,[o("button",{onClick:e[1]||(e[1]=k((...A)=>s.saveComment&&s.saveComment(...A),["stop"]))},"Save"),o("span",{onClick:e[2]||(e[2]=k(A=>n.isEditing=!1,["stop"])),class:"exit-icon"})])])):(d(),l("p",Dl,_(r.comment.txt),1))]),((B=r.comment)==null?void 0:B.byMember._id)===r.user._id&&!n.isEditing?(d(),l("div",Tl,[o("button",{onClick:e[3]||(e[3]=k(A=>n.isEditing=!0,["stop"])),class:"edit-btn"},"Edit"),Bl,o("button",{onClick:e[4]||(e[4]=A=>s.deleteComment(r.comment._id)),class:"delete-btn"},"Delete")])):m("",!0)])])}var Il=f(_l,[["render",Al]]);const xl={props:{comments:Array,members:Array,user:Object},data(){return{txt:"",isEditing:!1}},created(){},methods:{addComment(){this.$emit("add-comment",this.txt),this.hideButton(),this.txt=""},showButton(){this.$refs["comment-box"].style.height="85px",this.$refs["save-btn"].style.pointerEvents="auto",this.$refs["save-btn"].style.opacity=1},hideButton(){this.$refs["comment-box"].style.height="35px",this.$refs["save-btn"].style.opacity=0,this.$refs["save-btn"].style.pointerEvents="none"},deleteComment(t){this.$emit("delete-comment",t)},saveComment(t,e){this.$emit("save-comment",t,e)}},computed:{},components:{avatarProfile:R,activitiesComment:Il}},El={class:"activities-container module"},Nl=o("div",{class:"header"},[o("span",{class:"icon"}),o("h2",null,"Activity"),o("button",null,"Hide details")],-1),Ml={ref:"comment-box",class:"comment-box"},zl={class:"comments-list"};function Ol(t,e,r,a,n,s){const i=g("avatar-profile"),c=g("activities-comment"),u=$("clickoutside");return d(),l("section",null,[o("div",El,[Nl,y((d(),l("div",Ml,[C(i,{username:r.user.username,imgURL:r.user.imgUrl},null,8,["username","imgURL"]),y(o("textarea",{ref:"textarea",onFocus:e[0]||(e[0]=(...p)=>s.showButton&&s.showButton(...p)),placeholder:"Write a comment...","onUpdate:modelValue":e[1]||(e[1]=p=>n.txt=p)},null,544),[[x,n.txt]]),o("button",{ref:"save-btn",onClick:e[2]||(e[2]=(...p)=>s.addComment&&s.addComment(...p)),class:"save-comment"},"Save",512)])),[[u,s.hideButton]]),o("ul",zl,[(d(!0),l(D,null,w(r.comments,p=>(d(),l("li",{key:p.id,class:"comment"},[C(c,{onDeleteComment:s.deleteComment,onSaveComment:s.saveComment,user:r.user,comment:p},null,8,["onDeleteComment","onSaveComment","user","comment"])]))),128))])])])}var $l=f(xl,[["render",Ol]]);const Pl={data(){return{photoLink:null}},created(){},methods:{attachFile(t){let e=t;typeof t!="string"&&(e=e.path[0].files[0]),this.$emit("attach-file",e)},closeAction(t){this.$emit("close-action",t)}},computed:{}},Fl={class:"attachment-menu"},Ql={class:"attachment-header"},Sl=o("h3",{class:"menu-title"},"Attach from...",-1),Ul=o("hr",null,null,-1),ql=o("div",{class:"computer-attach-container"},[o("p",{class:"computer-attach"},"Computer")],-1),Ll=o("hr",null,null,-1),Gl=o("h3",{class:"link-title"},"Attach a link",-1);function Hl(t,e,r,a,n,s){return d(),l("section",Fl,[o("div",Ql,[Sl,o("span",{onClick:e[0]||(e[0]=(...i)=>s.closeAction&&s.closeAction(...i)),class:"icon attachment-exit"})]),Ul,o("label",null,[ql,o("input",{type:"file",onChange:e[1]||(e[1]=(...i)=>s.attachFile&&s.attachFile(...i)),hidden:""},null,32)]),Ll,Gl,y(o("input",{type:"text",placeholder:"Paste a photo link here...","onUpdate:modelValue":e[2]||(e[2]=i=>n.photoLink=i)},null,512),[[x,n.photoLink]]),o("button",{onClick:e[3]||(e[3]=i=>s.attachFile(n.photoLink))},"Attach")])}var Rl=f(Pl,[["render",Hl]]);const jl={props:{attachments:Array,coverPhoto:String},data(){return{}},created(){},methods:{onDeleteAttachment(t){this.$emit("delete-attachment",t)},onSetPhoto(t){this.$emit("set-photo",t)}},computed:{}},Xl={class:"task-details-attachments"},Yl=o("span",{class:"icon attachments-icon"},null,-1),Jl=o("h2",null,"Attachments",-1),Vl={class:"attachment"},Zl={class:"attachment-pic"},Wl=["src"],Kl={class:"attachment-main"},ec={class:"header"},tc=o("span",{class:"icon arrow-icon"},null,-1),sc=P(" Added ... ago - "),oc=o("button",null,"Comment",-1),rc=P(" - "),nc=["onClick"],ac=P(" - "),ic=o("button",null,"Edit",-1),dc=["onClick"],lc=o("span",{class:"icon cover-icon"},null,-1),cc=o("span",null,"Make cover",-1),uc=[lc,cc],hc=o("span",{class:"icon cover-icon"},null,-1),mc=o("span",null,"Remove cover",-1),bc=[hc,mc];function pc(t,e,r,a,n,s){return d(),l("div",Xl,[Yl,Jl,(d(!0),l(D,null,w(r.attachments,i=>(d(),l("div",Vl,[o("div",Zl,[(i==null?void 0:i.resource_type)==="image"?(d(),l("img",{key:0,src:i.url},null,8,Wl)):m("",!0)]),o("div",Kl,[o("div",ec,[o("h4",null,[P(_(i.original_filename)+"."+_(i.format)+" ",1),tc])]),o("p",null,[sc,oc,rc,o("button",{onClick:c=>s.onDeleteAttachment(i.asset_id)},"Delete",8,nc),ac,ic]),r.coverPhoto!==i.url?(d(),l("button",{key:0,class:"make-cover-btn",onClick:k(c=>s.onSetPhoto(i.url),["stop"])},uc,8,dc)):m("",!0),r.coverPhoto===i.url?(d(),l("button",{key:1,class:"make-cover-btn",onClick:e[0]||(e[0]=k(c=>s.onSetPhoto(""),["stop"]))},bc)):m("",!0)])]))),256))])}var gc=f(jl,[["render",pc]]);const _c={props:{checklist:Object},data(){return{txt:"",currOpenMore:"",isAdding:!1}},created(){},methods:{addTodo(){this.checklist.todos.push({_id:F.makeId(),txt:this.txt,isDone:!1}),this.updateChecklist(),this.txt=""},updateChecklist(){this.$emit("checklistUpdated",this.checklist)},removeTodo(t){const e=this.checklist.todos.findIndex(r=>r._id===t);this.checklist.todos.splice(e,1),this.updateChecklist()},closeMoreMenus(){this.currOpenMore=""},convertToCard(t){this.$emit("convert-todo",Q({},t),JSON.parse(JSON.stringify(this.checklist)))},showMore(t){for(let e in this.$refs)e===t?this.$refs[e][0].style.visibility="visible":e!==t&&this.$refs[e][0]&&(this.$refs[e][0].style.visibility="hidden")},openAdding(){this.isAdding=!0,setTimeout(()=>{this.$refs.text.focus()},50)},closeAdding(){this.isAdding=!1}},computed:{todoPercentage(){var e;if(!((e=this.checklist.todos)!=null&&e.length))return 0;let t=this.checklist.todos.reduce((r,a)=>(a.isDone&&r++,r),0);return Math.floor(t/this.checklist.todos.length*100)},progressColor(){return this.todoPercentage===100?"#61bd4f":"#5ba4cf"}}},kc={class:"progress-bar-basic"},vc={class:"todo-perc"},yc=["onMouseover"],fc={class:"todo-text-container"},Cc={class:"checkbox-container"},Dc=["onUpdate:modelValue"],wc=o("span",{class:"custom-checkbox"},null,-1),Tc=["onClick"],Bc={key:0,class:"more-menu"},Ac=o("div",{class:"more-header"},[o("h3",{class:"menu-title"},"Item actions")],-1),Ic=o("hr",null,null,-1),xc={class:"more-main"},Ec=["onClick"],Nc=["onClick"],Mc={class:"add-item-container"},zc=o("span",{class:"icon stop-adding-icon"},null,-1);function Oc(t,e,r,a,n,s){const i=$("clickoutside");return d(),l("section",null,[o("div",kc,[o("div",vc,_(s.todoPercentage),1),o("div",{style:h({width:s.todoPercentage+"%",background:s.progressColor}),class:"progress-bar-actual"},null,4)]),o("ul",null,[(d(!0),l(D,null,w(r.checklist.todos,c=>(d(),l("li",{onMouseover:u=>s.showMore(c._id),onMouseleave:e[1]||(e[1]=u=>s.showMore("")),class:"todo",key:c._id},[o("div",fc,[o("label",Cc,[y(o("input",{class:"is-done-btn",type:"checkbox",onChange:e[0]||(e[0]=(...u)=>s.updateChecklist&&s.updateChecklist(...u)),"onUpdate:modelValue":u=>c.isDone=u},null,40,Dc),[[le,c.isDone]]),wc]),o("p",{style:h(c.isDone?"text-decoration: line-through":"")},_(c.txt),5)]),o("span",{ref_for:!0,ref:c._id,class:"todo-more",onClick:u=>n.currOpenMore=c._id},"...",8,Tc),n.currOpenMore===c._id?y((d(),l("div",Bc,[Ac,Ic,o("div",xc,[o("p",{onClick:u=>s.convertToCard(c)},"Convert to card",8,Ec),o("p",{onClick:u=>s.removeTodo(c._id)},"Delete",8,Nc)])])),[[i,s.closeMoreMenus]]):m("",!0)],40,yc))),128)),n.isAdding?m("",!0):(d(),l("button",{key:0,onClick:e[2]||(e[2]=k((...c)=>s.openAdding&&s.openAdding(...c),["stop"])),class:"add-item-btn"},"Add an item"))]),y((d(),l("div",Mc,[y(o("textarea",{ref:"text",type:"text",class:"todo-text","onUpdate:modelValue":e[3]||(e[3]=c=>n.txt=c)},null,512),[[x,n.txt]]),o("button",{onClick:e[4]||(e[4]=c=>s.addTodo()),class:""},"Add"),zc])),[[Ae,n.isAdding],[i,s.closeAdding]])])}var $c=f(_c,[["render",Oc]]);const Pc={props:{checklists:Array},data(){return{isAdding:!1}},created(){},methods:{updateChecklist(t){const e=this.checklists.findIndex(r=>r._id===t._id);this.checklists.splice(e,1,t),this.$emit("checklists-update",this.checklists)},deleteChecklist(t){const e=this.checklists.findIndex(r=>r._id===t);this.checklists.splice(e,1),this.$emit("checklists-update",this.checklists)},convertToCard(t,e){this.$emit("convert-todo",t,e)}},computed:{},components:{checklistTodos:$c}},Fc={class:"task-checklists"},Qc={class:"checklist-header"},Sc=o("span",{class:"icon checklist-icon"},null,-1),Uc=["onClick"];function qc(t,e,r,a,n,s){const i=g("checklist-todos");return d(),l("section",Fc,[(d(!0),l(D,null,w(r.checklists,c=>(d(),l("div",{class:"checklist",key:c._id},[o("div",Qc,[Sc,o("h2",null,_(c.title),1),o("button",{class:"delete-checklist-btn",onClick:k(u=>s.deleteChecklist(c._id),["stop"])},"Delete",8,Uc)]),C(i,{onConvertTodo:s.convertToCard,onChecklistUpdated:s.updateChecklist,checklist:c},null,8,["onConvertTodo","onChecklistUpdated","checklist"])]))),128))])}var Lc=f(Pc,[["render",qc]]);const Gc={data(){return{title:"Checklist"}},created(){},methods:{closeAction(t){this.$emit("close-action",t)},setTitle(){this.$emit("checklist-title-set",this.title)}},computed:{}},Hc={class:"checklist-menu"},Rc={class:"checklist-menu-header"},jc=o("h3",{class:"menu-title"},"Add checklist",-1),Xc=o("hr",null,null,-1),Yc=o("h4",null,"Title",-1);function Jc(t,e,r,a,n,s){return d(),l("section",Hc,[o("div",Rc,[jc,o("span",{class:"checklist-menu-exit",onClick:e[0]||(e[0]=(...i)=>s.closeAction&&s.closeAction(...i))})]),Xc,Yc,y(o("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=i=>n.title=i)},null,512),[[x,n.title]]),o("button",{onClick:e[2]||(e[2]=(...i)=>s.setTitle&&s.setTitle(...i))},"Add")])}var Vc=f(Gc,[["render",Jc]]);const Zc={props:{members:Array},data(){return{}},created(){},methods:{openMenu(){this.$emit("open-menu")}},computed:{},components:{avatarProfile:R}},Wc={class:"task-members"},Kc=o("h4",null,"Members",-1),eu={class:"members-container"},tu=o("span",{class:"icon plus-icon"},null,-1),su=[tu];function ou(t,e,r,a,n,s){const i=g("avatar-profile");return d(),l("section",Wc,[Kc,o("div",eu,[r.members?(d(!0),l(D,{key:0},w(r.members,c=>(d(),l("div",{class:"member",key:c._id},[C(i,{class:"member-pic",onClick:s.openMenu,imgURL:c.imgUrl,username:c.username},null,8,["onClick","imgURL","username"])]))),128)):m("",!0),o("div",{onClick:e[0]||(e[0]=(...c)=>s.openMenu&&s.openMenu(...c)),class:"add-member"},su)])])}var ru=f(Zc,[["render",ou]]);const nu={data(){return{isEditingDesc:!1,isEditingTitle:!1,currDescTxt:"",currAction:"",coverBcg:null,coverPhoto:null,isArchiving:!1}},created(){const t=this.$route.params.taskId;q.emit("task-entered",t),q.on("update-task",this.updateCurrTask)},methods:{async updateCurrTask(){const t=this.$route.params.boardId;await this.$store.dispatch("loadBoards"),this.$store.dispatch({type:"getTask",taskId:this.task._id,boardId:t})},async addComment(t){(!this.task.comments||!this.task.comments.length)&&(this.task.comments=[]);const e={txt:t,createdAt:Date.now(),byMember:this.currUser};this.$store.dispatch({type:"addComment",comment:e,task:this.task})},deleteComment(t){this.$store.dispatch({type:"deleteComment",commentId:t,task:this.task})},saveComment(t,e){this.$store.dispatch({type:"saveComment",txt:t,commentId:e,task:this.task})},async setDescTxt(){const t=this.$route.params.boardId;this.task.description=this.task.description.trim(),this.$store.dispatch({type:"saveTask",task:this.task,boardId:t})},closeTaskDetails(){if(this.currAction)return;const t=this.$route.params.boardId;this.$router.push("/board/"+t)},setCurrAction(t){this.currAction=t},closeAction(t){t.stopPropagation(),this.currAction=null},closeEditingTitle(){this.isEditingTitle=!1;const t=this.$route.params.boardId;this.$store.dispatch({type:"saveTask",task:this.task,boardId:t})},async onSetLabel(t){try{this.task.labelIds=t;const e=this.$route.params.boardId;this.$store.dispatch({type:"saveTask",task:this.task,boardId:e})}catch(e){console.log(e)}},onSetColor(t){delete this.task.style.photo,this.task.style.color=t;const e=this.$route.params.boardId;this.$store.dispatch({type:"saveTask",task:this.task,boardId:e})},onAddLabel(t){const e=this.$route.params.boardId;this.$store.dispatch({type:"addLabel",label:t,boardId:e})},onDeleteLabel(t){const e=this.$route.params.boardId;this.$store.dispatch({type:"deleteLabel",labelId:t,task:Q({},this.task),boardId:e})},async onSetPhoto(t){delete this.task.style.color,this.task.style.photo=t,t||await this.onSetCoverSize("half");const e=this.$route.params.boardId;await this.$store.dispatch({type:"saveTask",task:this.task,boardId:e}),this.coverPhoto=t},onSetCoverSize(t){this.task.style.isBackground=t==="full";const e=this.$route.params.boardId;this.$store.dispatch({type:"saveTask",task:this.task,boardId:e})},setCoverStyle(t,e){this.coverBcg=t,this.coverPhoto=e},async onAttachFile(t){this.$store.dispatch("attachFile",{file:t,task:this.task})},async onDeleteAttachment(t){this.$store.dispatch({type:"deleteAttachment",id:t,task:this.task})},async archive(){this.isArchiving=!1;const t=this.$route.params.boardId;await this.$store.dispatch({type:"deleteTask",taskId:this.task._id,boardId:t}),this.$router.push(`/board/${t}`)},setDate(t){t.dueDate=Date.parse(t.dueDate.toString()),this.$store.dispatch({type:"setDate",task:this.task,dueDate:t})},removeDate(){this.task.dueDate={};const t=this.$route.params.boardId;this.$store.dispatch({type:"saveTask",task:this.task,boardId:t})},updateTask(){const t=this.$route.params.boardId;this.$store.dispatch({type:"saveTask",task:this.task,boardId:t})},setChecklistTitle(t){this.$store.dispatch({type:"saveChecklist",title:t,task:this.task})},async convertToCard(t,e){await this.$store.dispatch({type:"convertTodoToTask",txt:t.txt,currTask:this.task});const r=e.todos.findIndex(n=>n._id===t._id);e.todos.splice(r,1);const a=this.task.checklists.findIndex(n=>n._id===e._id);this.task.checklists.splice(a,1,e),this.updateTask()},addMemberToTask(t){if(this.task.memberIds||(this.task.memberIds=[]),!this.task.memberIds.includes(t))this.task.memberIds.push(t);else{const r=this.task.memberIds.findIndex(a=>a===t);this.task.memberIds.splice(r,1)}const e=this.$route.params.boardId;this.$store.dispatch({type:"saveTask",task:this.task,boardId:e})}},computed:{task(){return this.$store.getters.currTask},labels(){return this.$store.getters.boardLabels},dueDate(){if(!this.$store.getters.currTask.dueDate.dueDate)return;let t=new Date(this.$store.getters.currTask.dueDate.dueDate);const e={month:"short"};return t=`${new Intl.DateTimeFormat("en-US",e).format(t)} ${t.getDate()}, ${t.getFullYear()}`,t},boardMembers(){return this.$store.getters.boardMembers},taskMembers(){if(!this.task.memberIds)return;const t=[];return this.task.memberIds.forEach(e=>{this.boardMembers.forEach(r=>{r._id===e&&t.push(r)})}),t},currGroup(){const t=this.$store.getters.currBoard;let e;return t.groups.forEach(r=>{r.tasks.find(n=>n._id===this.task._id)&&(e=r)}),e},currUser(){return this.$store.getters.loggedinUser}},components:{taskActivities:$l,labelMenu:ge,coverMenu:_e,attachmentMenu:Rl,datesMenu:ke,checklistMenu:Vc,taskAttachments:gc,taskChecklists:Lc,membersMenu:ve,taskMembers:ru},watch:{"$route.params.taskId":{async handler(){const t=this.$route.params.boardId,e=this.$route.params.cardId;await this.$store.dispatch({type:"getTask",taskId:e,boardId:t})},deep:!0,immediate:!0},isEditingDesc:{handler(){this.isEditingDesc&&(this.currDescTxt=this.task.description)}},"task.style":{async handler(){if(!!this.task)if(this.task.style.photo){const e=await new de().getColorAsync(this.task.style.photo);this.setCoverStyle(e.hexa,this.task.style.photo)}else this.task.style.color&&this.setCoverStyle(this.task.style.color,null)},immediate:!0,deep:!0}},unmounted(){q.off("update-task")}},au={class:"task-details-overlay"},iu={class:"task-total-container"},du={class:"btn-container"},lu=o("span",{class:"icon cover-icon"},null,-1),cu=o("span",null,"Cover",-1),uu=[lu,cu],hu={key:1,class:"task-details-main"},mu={class:"head"},bu={class:"text"},pu=o("span",{class:"icon"},null,-1),gu={class:"details-main"},_u={class:"content"},ku={class:"task-top-actions module"},vu={key:1,class:"task-labels"},yu=o("h4",null,"Labels",-1),fu={class:"task-details-labels-container"},Cu={class:"task-details-label-title"},Du=o("span",{class:"add-icon"},null,-1),wu=[Du],Tu={key:2,class:"task-dates"},Bu=o("h4",null,"Dates",-1),Au={class:"main"},Iu={class:""},xu={key:0,class:"date-complete-label"},Eu={class:"description module"},Nu={class:"text"},Mu=o("span",{class:"icon desc-icon"},null,-1),zu=o("h2",null,"Description",-1),Ou={key:2,class:"desc-edit"},$u={class:"edit-btns"},Pu={class:"actions-menu"},Fu=o("h3",null,"Add to card",-1),Qu=o("span",{class:"icon members-icon"},null,-1),Su=o("span",null,"Members",-1),Uu=[Qu,Su],qu=o("span",{class:"icon labels-icon"},null,-1),Lu=o("span",null,"Labels",-1),Gu=[qu,Lu],Hu=o("span",{class:"icon checklist-icon"},null,-1),Ru=o("span",null,"Checklist",-1),ju=[Hu,Ru],Xu=o("span",{class:"icon dates-icon"},null,-1),Yu=o("span",null,"Dates",-1),Ju=[Xu,Yu],Vu=o("span",{class:"icon attachment-icon"},null,-1),Zu=o("span",null,"Attachment",-1),Wu=[Vu,Zu],Ku=o("span",{class:"icon cover-icon"},null,-1),eh=o("span",null,"Cover",-1),th=[Ku,eh],sh=o("h3",null,"Actions",-1),oh=o("span",{class:"icon archive-icon"},null,-1),rh=o("span",null,"Archive",-1),nh=[oh,rh],ah=o("span",{class:"icon delete-icon"},null,-1),ih=o("span",null,"Delete",-1),dh=[ah,ih];function lh(t,e,r,a,n,s){var M,z,B,A,Y,U,K,ee,te;const i=g("task-members"),c=g("task-attachments"),u=g("task-checklists"),p=g("task-activities"),b=$("clickoutside");return d(),l("div",au,[y((d(),l("section",iu,[((M=s.task)==null?void 0:M.style.color)||((z=s.task)==null?void 0:z.style.photo)?(d(),l("div",{key:0,class:"task-details-cover",ref:"detailsCover",style:h({backgroundColor:n.coverBcg,backgroundImage:`url(${n.coverPhoto})`})},[o("span",{class:"icon task-close-btn",onClick:e[0]||(e[0]=k((...v)=>s.closeTaskDetails&&s.closeTaskDetails(...v),["stop"]))}),o("div",du,[o("button",{onClick:e[1]||(e[1]=k(v=>s.setCurrAction("coverMenu"),["stop"]))},uu)])],4)):m("",!0),s.task?(d(),l("section",hu,[o("div",mu,[o("div",bu,[pu,y(o("input",{onFocus:e[2]||(e[2]=v=>n.isEditingTitle=!0),onBlur:e[3]||(e[3]=(...v)=>s.closeEditingTitle&&s.closeEditingTitle(...v)),style:h({backgrounColor:n.isEditingTitle?"#fff":"",boxShadow:n.isEditingTitle?"inset 0 0 0 1px #0079bf":""}),class:"title-txt","onUpdate:modelValue":e[4]||(e[4]=v=>s.task.title=v),type:"text"},null,36),[[x,s.task.title]]),o("p",null,"in list "+_(s.currGroup.title),1)]),!((B=s.task)!=null&&B.style.color)&&!((A=s.task)!=null&&A.style.photo)?(d(),l("span",{key:0,class:"icon task-close-btn",onClick:e[5]||(e[5]=k((...v)=>s.closeTaskDetails&&s.closeTaskDetails(...v),["stop"]))})):m("",!0)]),o("div",gu,[o("div",_u,[o("div",ku,[(Y=s.task.memberIds)!=null&&Y.length?(d(),E(i,{key:0,onOpenMenu:e[6]||(e[6]=v=>s.setCurrAction("membersMenu")),members:s.taskMembers},null,8,["members"])):m("",!0),(U=s.task.labelIds)!=null&&U.length?(d(),l("div",vu,[yu,o("div",fu,[(d(!0),l(D,null,w(s.labels,v=>(d(),l("span",{key:v._id},[s.task.labelIds.includes(v._id)?(d(),l("span",{key:0,class:"task-details-label",style:h({backgroundColor:v.color}),onClick:e[7]||(e[7]=Fh=>s.setCurrAction("labelMenu"))},[o("span",Cu,_(v.title),1)],4)):m("",!0)]))),128)),o("span",{onClick:e[8]||(e[8]=v=>s.setCurrAction("labelMenu")),class:"task-details-label add-btn"},wu)])])):m("",!0),(ee=(K=s.task)==null?void 0:K.dueDate)!=null&&ee.dueDate?(d(),l("div",Tu,[Bu,o("div",Au,[y(o("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=v=>s.task.dueDate.isComplete=v),onChange:e[10]||(e[10]=(...v)=>s.updateTask&&s.updateTask(...v))},null,544),[[le,s.task.dueDate.isComplete]]),o("button",Iu,[P(_(s.dueDate)+" ",1),s.task.dueDate.isComplete?(d(),l("span",xu,"complete")):m("",!0)])])])):m("",!0)]),o("div",Eu,[o("div",Nu,[Mu,zu,!s.task.description&&!n.isEditingDesc?(d(),l("div",{key:0,class:"placeholder-desc",onClick:e[11]||(e[11]=k(v=>n.isEditingDesc=!0,["stop"]))},"Add a more detailed description...")):m("",!0),n.isEditingDesc?(d(),l("div",Ou,[y(o("textarea",{autofocus:"",placeholder:"Add a more detailed description...",class:"desc-edit-txt","onUpdate:modelValue":e[13]||(e[13]=v=>s.task.description=v)},null,512),[[x,s.task.description]]),o("div",$u,[o("button",{onClick:e[14]||(e[14]=k(v=>{n.isEditingDesc=!1,s.setDescTxt()},["stop"]))},"Save"),o("span",{class:"desc-close-icon",onClick:e[15]||(e[15]=k(v=>{n.isEditingDesc=!1,s.task.description=n.currDescTxt},["stop"]))})])])):(d(),l("pre",{key:1,onClick:e[12]||(e[12]=k(v=>n.isEditingDesc=!n.isEditingDesc,["stop"]))},_(s.task.description),1))]),!n.isEditingDesc&&s.task.description?(d(),l("button",{key:0,class:"edit-btn",onClick:e[16]||(e[16]=k(v=>n.isEditingDesc=!0,["stop"]))},"Edit")):m("",!0)]),(te=s.task.attachments)!=null&&te.length?(d(),E(c,{key:0,attachments:s.task.attachments,coverPhoto:n.coverPhoto,onDeleteAttachment:s.onDeleteAttachment,onSetPhoto:s.onSetPhoto},null,8,["attachments","coverPhoto","onDeleteAttachment","onSetPhoto"])):m("",!0),C(u,{checklists:s.task.checklists,onChecklistsUpdate:s.updateTask,onConvertTodo:s.convertToCard},null,8,["checklists","onChecklistsUpdate","onConvertTodo"]),C(p,{onAddComment:s.addComment,onDeleteComment:s.deleteComment,onSaveComment:s.saveComment,comments:s.task.comments,members:s.taskMembers,user:s.currUser},null,8,["onAddComment","onDeleteComment","onSaveComment","comments","members","user"])]),o("div",Pu,[Fu,y((d(),E(re(n.currAction),{task:s.task,onCloseAction:s.closeAction,onLabelAdd:s.onAddLabel,onLabelSet:s.onSetLabel,onLabelDelete:s.onDeleteLabel,onColorSet:s.onSetColor,onPhotoSet:s.onSetPhoto,onCoverSizeSet:s.onSetCoverSize,onAttachFile:s.onAttachFile,onDateSet:s.setDate,onRemoveDate:s.removeDate,onChecklistTitleSet:s.setChecklistTitle,onAddMember:s.addMemberToTask,members:s.boardMembers,taskMembers:s.task.memberIds,labels:s.labels,attachments:s.task.attachments},null,8,["task","onCloseAction","onLabelAdd","onLabelSet","onLabelDelete","onColorSet","onPhotoSet","onCoverSizeSet","onAttachFile","onDateSet","onRemoveDate","onChecklistTitleSet","onAddMember","members","taskMembers","labels","attachments"])),[[b,s.closeAction]]),o("button",{onClick:e[17]||(e[17]=v=>s.setCurrAction("membersMenu"))},Uu),o("button",{onClick:e[18]||(e[18]=k(v=>s.setCurrAction("labelMenu"),["stop"]))},Gu),o("button",{onClick:e[19]||(e[19]=k(v=>s.setCurrAction("checklistMenu"),["stop"]))},ju),o("button",{onClick:e[20]||(e[20]=k(v=>s.setCurrAction("datesMenu"),["stop"]))},Ju),o("button",{onClick:e[21]||(e[21]=k(v=>s.setCurrAction("attachmentMenu"),["stop"]))},Wu),!s.task.style.color&&!s.task.style.photo?(d(),l("button",{key:0,onClick:e[22]||(e[22]=k(v=>s.setCurrAction("coverMenu"),["stop"]))},th)):m("",!0),sh,o("button",{onClick:e[23]||(e[23]=k(v=>n.isArchiving=!n.isArchiving,["stop"]))},nh),n.isArchiving?(d(),l("div",{key:1,class:"archive-btns",onClick:e[25]||(e[25]=k((...v)=>s.archive&&s.archive(...v),["stop"]))},[o("button",{onClick:e[24]||(e[24]=k((...v)=>s.archive&&s.archive(...v),["stop"]))},dh)])):m("",!0)])])])):m("",!0)])),[[b,s.closeTaskDetails]])])}var ch=f(nu,[["render",lh]]),uh="/assets/tablero-left.0944c5c6.svg",hh="/assets/tablero-right.fb7895e9.svg";const mh={components:{},created(){},data(){return{isSignUpPageOpen:!1,user:{email:"",password:""},errorMsg:""}},methods:{async googleLogin(){const e=(await this.$gAuth.signIn()).getBasicProfile(),r={email:e.getEmail(),username:e.getName(),googleId:e.getId(),password:e.getId(),imgUrl:e.getImageUrl()};this.$store.dispatch({type:"googleLogin",user:r})},toggleLoginPage(){this.isSignUpPageOpen=!this.isSignUpPageOpen,this.$refs.mailInput.focus(),this.isSignUpPageOpen?this.user={email:"",username:"",password:""}:this.user={email:"",password:""}},async login(){try{if(!this.testMail(this.user.email)||!this.user.password){this.$refs.mailInput.focus(),this.errorMsg="Password and email required",setTimeout(()=>{this.errorMsg=""},3e3);return}else await this.$store.dispatch({type:"login",user:this.user})}catch{this.errorMsg="Username or password incorrect",setTimeout(()=>{this.errorMsg=""},3e3)}},async signup(){try{if(!this.testMail(this.user.email)||!this.user.password||!this.user.username){this.$refs.mailInput.focus();return}else await this.$store.dispatch({type:"signup",user:this.user})}catch(t){console.log(t),this.errorMsg="Username or email already taken",setTimeout(()=>{this.errorMsg=""},3e3)}},testMail(t){return!!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t)}},computed:{checkPage(){return this.isSignUpPageOpen?"display : none":""},checkTypingSignUp(){return(this.user.email||this.user.password)&&this.isSignUpPageOpen?"display : none":""},isValidMail(){return this.user.email.includes("@")?"login-submit":"unvalid-mail"}},unmounted(){}},bh={class:"login-page"},ph=o("div",{class:"logo-container"},[o("img",{src:be,class:"logo-icon"}),o("span",{class:"logo-text"},"Tablero")],-1),gh={class:"login-content-container"},_h={class:"content-wrapper"},kh={class:"login-content"},vh={key:0,class:"error-msg"},yh={class:"login-password-container"},fh={class:"email-password"},Ch={class:"inputs-container"},Dh=o("div",{class:"login-methods-seperator"},"OR",-1),wh=[Dh],Th=o("hr",null,null,-1),Bh={class:"bottom-link"},Ah={class:"sign-up-link"},Ih=ne('<div class="background"><div class="left-img"><img src="'+uh+'" alt class="left"></div><div class="right-img"><img src="'+hh+'" alt class="right"></div></div>',1);function xh(t,e,r,a,n,s){return d(),l("section",bh,[ph,o("section",gh,[o("div",_h,[o("div",kh,[n.errorMsg?(d(),l("div",vh,_(n.errorMsg),1)):m("",!0),this.isSignUpPageOpen?(d(),l("h1",{key:2,class:"header",onClick:e[1]||(e[1]=(...i)=>s.toggleLoginPage&&s.toggleLoginPage(...i))},"Sign up for your acount")):(d(),l("h1",{key:1,class:"header",onClick:e[0]||(e[0]=(...i)=>s.toggleLoginPage&&s.toggleLoginPage(...i))},"Login to Tablero")),o("div",yh,[o("div",fh,[o("div",Ch,[this.isSignUpPageOpen?y((d(),l("input",{key:0,type:"text","onUpdate:modelValue":e[2]||(e[2]=i=>n.user.username=i),class:"login-input",placeholder:"Enter username"},null,512)),[[x,n.user.username]]):m("",!0),y(o("input",{type:"email",class:"login-input",placeholder:"Enter email ","onUpdate:modelValue":e[3]||(e[3]=i=>n.user.email=i),ref:"mailInput",autofocus:""},null,512),[[x,n.user.email]]),y(o("input",{type:"password","onUpdate:modelValue":e[4]||(e[4]=i=>n.user.password=i),class:"login-input",placeholder:"Enter password"},null,512),[[x,n.user.password]])]),this.isSignUpPageOpen?(d(),l("input",{key:1,type:"submit",value:"Sign Up",class:I(s.isValidMail),onClick:e[6]||(e[6]=(...i)=>s.signup&&s.signup(...i))},null,2)):(d(),l("input",{key:0,type:"submit",class:"login-submit",value:"Log in",onClick:e[5]||(e[5]=(...i)=>s.login&&s.login(...i))}))]),o("div",{style:h(s.checkTypingSignUp),class:"login-methods-container"},wh,4)]),Th,o("ul",Bh,[o("li",Ah,[this.isSignUpPageOpen?(d(),l("div",{key:1,to:"/login/",class:"sign-up",onClick:e[8]||(e[8]=(...i)=>s.toggleLoginPage&&s.toggleLoginPage(...i))},"Already have an acount? Log in")):(d(),l("div",{key:0,class:"sign-up",onClick:e[7]||(e[7]=(...i)=>s.toggleLoginPage&&s.toggleLoginPage(...i))},"Sign up for an acount"))])])])])]),Ih])}var Eh=f(mh,[["render",xh]]);const fe=Ie({history:xe("/"),routes:[{path:"/",name:"home",component:Eo},{path:"/board",name:"boards",component:Gr},{path:"/login",name:"login",component:Eh},{path:"/board/:boardId",name:"board",component:gl,children:[{path:"card/:cardId",component:ch}]}]}),Nh={state:{boards:[],currBoardId:null,currTask:null,boardBgc:null,isLabelTitleShown:!1,isStartAnimation:!1,labelSize:{height:"8px",width:"40px"}},getters:{boards(t){if(!!t.boards.length)return JSON.parse(JSON.stringify(t.boards))},starredBoards(t){if(!!t.boards){var e=t.boards.filter(r=>r.isStarred);return e}},currBoard(t){if(!t.currBoardId||!t.boards.length)return;const e=t.boards.find(r=>r._id===t.currBoardId);return JSON.parse(JSON.stringify(e))},boardMembers(t){return t.boards.find(r=>r._id===t.currBoardId).members},currTask(t){if(!!t.currTask)return JSON.parse(JSON.stringify(t.currTask))},boardLabels(t){if(!t.currBoardId||!t.boards.length)return;const e=t.boards.find(r=>r._id===t.currBoardId);if(!(!e.labels||!e.labels.length))return JSON.parse(JSON.stringify(e.labels))},boardBgc(t){return t.boardBgc},isLabelTitleShown(t){return t.isLabelTitleShown},isStartAnimation(t){return t.isStartAnimation},labelSize(t){return t.labelSize}},mutations:{loadBoards(t,{boards:e}){t.boards=e},setCurrBoardId(t,{boardId:e}){t.currBoardId=e},saveBoard(t,{board:e}){const r=t.boards.findIndex(a=>a._id===e._id);t.boards.splice(r,1,e)},addGroup(t,{savedGroup:e}){const r=t.boards.findIndex(a=>a._id===t.currBoardId);t.boards[r].groups.push(e)},setCurrTask(t,{task:e,boardIdx:r,groupIdx:a,taskIdx:n}){t.currTask=e,t.boards[r].groups[a].tasks[n]=e},addTask(t,{task:e,groupId:r}){const a=t.boards.findIndex(s=>s._id===t.currBoardId);t.boards[a].groups.find(s=>s._id===r).tasks.push(e)},editGroup(t,{savedGroup:e,boardId:r}){const a=t.boards.findIndex(s=>s._id===r),n=t.boards[a].groups.findIndex(s=>s._id===e._id);t.boards[a].groups[n]=e},updateBoard(t,{board:e}){const r=t.boards.findIndex(a=>a._id===e._id);t.boards[r]=e},addBoard(t,{savedBoard:e}){t.boards.unshift(e)},changeHeaderBgc(t,{bgc:e,isLight:r}){t.boardBgc={bgc:e,isLight:r}},starBoard(t,{boardId:e}){const r=t.boards.find(a=>a._id===e);r.isStarred=!r.isStarred},deleteGroup(t,{groupId:e,boardId:r}){const a=t.boards.findIndex(s=>s._id===r),n=t.boards[a].groups.findIndex(s=>s._id===e);t.boards[a].groups.splice(n,1)},toggleLabel(t){t.isLabelTitleShown=!t.isLabelTitleShown},toggleLabelText(t){t.isStartAnimation=!t.isStartAnimation,t.isStartAnimation?t.labelSize={width:"55px",height:"16px"}:t.labelSize={width:"40px",height:"8px"}},deleteTask(t,{taskId:e,groupId:r,boardId:a}){const n=t.boards.findIndex(c=>c._id===a),s=t.boards[n].groups.findIndex(c=>c._id===r),i=t.boards[n].groups[s].tasks.findIndex(c=>c._id===e);t.boards[n].groups[s].tasks.splice(i,1),t.currTask=null},addCheckedUsers(t,{users:e}){const r=t.boards.findIndex(a=>a._id===t.currBoardId);e.forEach(a=>{t.boards[r].members.some(n=>n._id===a._id)||t.boards[r].members.push(a)})},removeUserFromBoard(t,{memberId:e}){const r=t.boards.findIndex(n=>n._id===t.currBoardId),a=t.boards[r].members.findIndex(n=>n._id===e);t.boards[r].members.splice(a,1)}},actions:{async loadBoards({commit:t,state:e}){try{const r=await T.query();t({type:"loadBoards",boards:r})}catch(r){throw r}},async saveBoard({commit:t},{board:e}){t({type:"saveBoard",board:e});try{await T.updateBoard(e)}catch(r){throw r}},async addGroup({commit:t},{boardId:e,groupToAdd:r}){try{const a=await T.saveGroup(e,r);t({type:"addGroup",savedGroup:a})}catch(a){throw a}},async addBoard({commit:t},{boardToAdd:e}){try{const r=await T.addBoard(e.title,e.style);t({type:"addBoard",savedBoard:r})}catch(r){throw r}},async starBoard({commit:t,state:e},{boardId:r}){try{const a=Q({},e.boards.find(n=>n._id===r));a.isStarred=!a.isStarred,await T.updateBoard(a),t({type:"starBoard",boardId:r})}catch(a){throw a}},async getTask({commit:t},{taskId:e,boardId:r}){try{const a=await T.getTask(e,r);t({type:"setCurrTask",task:a})}catch{}},async saveTask({commit:t,state:e},{task:r,boardId:a}){const n=e.boards.find(b=>b._id===a),s=e.boards.findIndex(b=>b._id===a),i=await T.getGroupIdByTaskId(r._id,a),c=n.groups.find(b=>b._id===i),u=n.groups.findIndex(b=>b._id===i),p=c.tasks.findIndex(b=>b._id===r._id);t({type:"setCurrTask",task:r,boardIdx:s,groupIdx:u,taskIdx:p}),T.saveTask(r,a)},async addTask({commit:t},{task:e,boardId:r}){const a=await T.saveTask(e,r);t({type:"addTask",task:a,groupId:e.groupId})},async editGroup({commit:t},{groupToEdit:e,boardId:r}){t({type:"editGroup",savedGroup:e,boardId:r});try{const a=await T.saveGroup(r,e)}catch(a){throw a}},async changeBoardBgc({commit:t},{bgc:e,boardId:r}){const a=JSON.parse(JSON.stringify(await T.getBoardById(r)));delete a.style.backgroundColor,delete a.style.photo,a.style.backgroundColor=e,await T.updateBoard(a),t({type:"updateBoard",board:a})},async changeBoardBgp({commit:t},{url:e,boardId:r}){const a=JSON.parse(JSON.stringify(await T.getBoardById(r)));delete a.style.backgroundColor,delete a.style.photo,a.style.photo=e,await T.updateBoard(a),t({type:"updateBoard",board:a})},async addLabel({commit:t},{label:e,boardId:r}){const a=await T.getBoardById(r);if(e._id){const n=a.labels.findIndex(s=>s._id===e._id);a.labels.splice(n,1,e)}else{e._id=F.makeId();const n=a.labels.findIndex(s=>s.color===e.color);a.labels.splice(n,0,e)}t({type:"saveBoard",board:a}),await T.updateBoard(a)},async deleteLabel({commit:t},{labelId:e,task:r,boardId:a}){try{if(r.labelIds.includes(e)){const i=r.labelIds.findIndex(c=>c===e);r.labelIds.splice(i,1),await T.saveTask(r,a)}const n=await T.getBoardById(a),s=n.labels.findIndex(i=>i._id===e);n.labels.splice(s,1),t({type:"saveBoard",board:n}),await T.updateBoard(n)}catch(n){throw n}},async deleteGroup({commit:t},{groupId:e,boardId:r}){try{t({type:"deleteGroup",groupId:e,boardId:r}),T.removeGroup(r,e)}catch(a){throw a}},toggleLabelTitle({commit:t}){t({type:"toggleLabel"}),setTimeout(()=>{t({type:"toggleLabelText"})},100)},async deleteTask({commit:t},{taskId:e,boardId:r}){try{const a=await T.getGroupIdByTaskId(e,r);t({type:"deleteTask",taskId:e,groupId:a,boardId:r}),await T.removeTask(e,r)}catch(a){throw a}},async attachFile({state:t,dispatch:e},{file:r,task:a}){(!a.attachments||!a.attachments.length)&&(a.attachments=[]);const n=await H.uploadPhoto(r);a.attachments.push(n),e({type:"saveTask",task:a,boardId:t.currBoardId})},async deleteAttachment({state:t,dispatch:e},{id:r,task:a}){const n=a.attachments.findIndex(s=>s.asset_id===r);a.attachments.splice(n,1),e({type:"saveTask",task:a,boardId:t.currBoardId})},async setDate({state:t,dispatch:e},{task:r,dueDate:a}){r.dueDate=Q({},a),e({type:"saveTask",task:r,boardId:t.currBoardId})},async saveChecklist({state:t,dispatch:e},{title:r,task:a}){a.checklists||(a.checklists=[]),a.checklists.push({title:r,_id:F.makeId(),todos:[]}),e({type:"saveTask",task:a,boardId:t.currBoardId})},async addCheckedUsers({state:t,commit:e},{users:r}){await T.addMembersToBoard(r,t.currBoardId),e({type:"addCheckedUsers",users:r})},async convertTodoToTask({dispatch:t,state:e},{txt:r,currTask:a}){const s={groupId:await T.getGroupIdByTaskId(a._id,e.currBoardId),title:r};t({type:"addTask",task:s,boardId:e.currBoardId})},async removeUserFromBoard({commit:t},{memberId:e,boardId:r}){await T.removeUserFromBoard(e,r),t({type:"removeUserFromBoard",memberId:e})},async addComment({dispatch:t,state:e},{comment:r,task:a}){r._id=F.makeId(),a.comments.unshift(r),t({type:"saveTask",task:a,boardId:e.currBoardId})},async deleteComment({dispatch:t,state:e},{commentId:r,task:a}){const n=a.comments.findIndex(s=>s._id===r);a.comments.splice(n,1),t({type:"saveTask",task:a,boardId:e.currBoardId})},async saveComment({dispatch:t,state:e},{txt:r,commentId:a,task:n}){const s=n.comments.findIndex(i=>i._id===a);n.comments[s].txt=r,t({type:"saveTask",task:n,boardId:e.currBoardId})}}},Mh={state:{loggedinUser:null,searchedUsers:null},getters:{loggedinUser(t){return t.loggedinUser},searchedUsers(t){return t.searchedUsers}},mutations:{login(t,{user:e}){t.loggedinUser=e},logout(t){t.loggedinUser=null},updateSearchedUsers(t,{users:e}){t.searchedUsers=e}},actions:{async getLoggedinUser({commit:t}){try{const e=await S.getLoggedinUser();t({type:"login",user:e})}catch(e){throw e}},async login({commit:t},{user:e}){try{const r=await S.login(e);t({type:"login",user:r})}catch(r){throw r}},async signup({commit:t},{user:e}){try{const r=await S.signup(e);t({type:"login",user:r})}catch(r){throw r}},async googleLogin({commit:t},{user:e}){const r=await S.googleLogin(e);t({type:"login",user:r})},async logout({commit:t}){try{await S.logout(),t({type:"logout"})}catch(e){throw e}},async searchForUsers({commit:t},{searchInput:e}){const r=await S.getUsers(e);t({type:"updateSearchedUsers",users:r})}}},zh=Ee({strict:!0,state:{},getters:{},mutations:{},modules:{boardStore:Nh,userStore:Mh}});function Oh(t,e){var r=null;return function(){clearTimeout(r);var a=arguments,n=this;r=setTimeout(function(){t.apply(n,a)},e)}}function $h(t,e){e.value!==e.oldValue&&(t.oninput=Oh(function(){t.dispatchEvent(new Event("change"))},parseInt(e.value)||500))}const j=Ne(oo);j.directive("clickoutside",{mounted:(t,e)=>{setTimeout(()=>{t.clickOutsideEvent=function(r){t==r.target||t.contains(r.target)||e.value(r,t)},document.body.addEventListener("click",t.clickOutsideEvent),document.body.addEventListener("touchstart",t.clickOutsideEvent)},100)},unmounted:function(t){document.body.removeEventListener("click",t.clickOutsideEvent),document.body.removeEventListener("touchstart",t.clickOutsideEvent)},stopProp(t){t.stopPropagation()}});const Ph={clientId:"451808055099-btekebrng89906acj1fjos3b9r7kf0fe.apps.googleusercontent.com",scope:"email",prompt:"consent"};j.use(Me,Ph);j.use(ze);j.directive("debounce",(t,e)=>$h(t,e));j.use(zh);j.use(fe);j.mount("#app");
